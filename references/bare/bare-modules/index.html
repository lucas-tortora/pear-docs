<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-references/bare/bare-modules" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">bare-module | Pear Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://lucas-tortora.github.io/pear-docs/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://lucas-tortora.github.io/pear-docs/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://lucas-tortora.github.io/pear-docs/references/bare/bare-modules"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="bare-module | Pear Docs"><meta data-rh="true" name="description" content="Module support for JavaScript."><meta data-rh="true" property="og:description" content="Module support for JavaScript."><link data-rh="true" rel="icon" href="/pear-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://lucas-tortora.github.io/pear-docs/references/bare/bare-modules"><link data-rh="true" rel="alternate" href="https://lucas-tortora.github.io/pear-docs/references/bare/bare-modules" hreflang="en"><link data-rh="true" rel="alternate" href="https://lucas-tortora.github.io/pear-docs/references/bare/bare-modules" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"References","item":"https://lucas-tortora.github.io/pear-docs/references/"},{"@type":"ListItem","position":2,"name":"Bare","item":"https://lucas-tortora.github.io/pear-docs/references/bare/overview"},{"@type":"ListItem","position":3,"name":"bare-module","item":"https://lucas-tortora.github.io/pear-docs/references/bare/bare-modules"}]}</script><link rel="stylesheet" href="/pear-docs/assets/css/styles.2f4d04e7.css">
<script src="/pear-docs/assets/js/runtime~main.f81fc2be.js" defer="defer"></script>
<script src="/pear-docs/assets/js/main.25a23557.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/pear-docs/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/pear-docs/"><div class="navbar__logo"><img src="/pear-docs/img/logo.svg" alt="Lucas Tortora - Pear Docs Revamp" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/pear-docs/img/logo.svg" alt="Lucas Tortora - Pear Docs Revamp" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Lucas Tortora - Pear Docs Revamp</b></a><a class="navbar__item navbar__link" href="/pear-docs/about-pear/what-is-pear">About Pear</a><a class="navbar__item navbar__link" href="/pear-docs/getting-started/install/">Getting Started</a><a class="navbar__item navbar__link" href="/pear-docs/how-to/">How To</a><a class="navbar__item navbar__link" href="/pear-docs/tutorials/">Tutorials</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/pear-docs/references/">References</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/lucas-tortora/pear" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pear-docs/"><span title="Pear by Holepunch" class="linkLabel_WmDU">Pear by Holepunch</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/pear-docs/about-pear/what-is-pear"><span title="About Pear" class="categoryLinkLabel_W154">About Pear</span></a><button aria-label="Expand sidebar category &#x27;About Pear&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/pear-docs/getting-started/install"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/pear-docs/how-to/"><span title="How To" class="categoryLinkLabel_W154">How To</span></a><button aria-label="Expand sidebar category &#x27;How To&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/pear-docs/tutorials/"><span title="Tutorials" class="categoryLinkLabel_W154">Tutorials</span></a><button aria-label="Expand sidebar category &#x27;Tutorials&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/pear-docs/references/"><span title="References" class="categoryLinkLabel_W154">References</span></a><button aria-label="Collapse sidebar category &#x27;References&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/pear-docs/references/pear/overview"><span title="Pear" class="categoryLinkLabel_W154">Pear</span></a><button aria-label="Expand sidebar category &#x27;Pear&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/pear-docs/references/bare/overview"><span title="Bare" class="categoryLinkLabel_W154">Bare</span></a><button aria-label="Collapse sidebar category &#x27;Bare&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pear-docs/references/bare/api"><span title="API" class="linkLabel_WmDU">API</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/pear-docs/references/bare/bare-modules"><span title="bare-module" class="linkLabel_WmDU">bare-module</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pear-docs/references/bare/nodejs-compatibility-with-bare"><span title="Node.js Compatibility with Bare" class="linkLabel_WmDU">Node.js Compatibility with Bare</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pear-docs/references/bare/overview"><span title="Bare Overview" class="linkLabel_WmDU">Bare Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pear-docs/references/bare/platform-support"><span title="Platform Support" class="linkLabel_WmDU">Platform Support</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pear-docs/references/bare/troubleshooting"><span title="Troubleshooting" class="linkLabel_WmDU">Troubleshooting</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pear-docs/references/bare/usage"><span title="Usage" class="linkLabel_WmDU">Usage</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/pear-docs/references/building-blocks/overview"><span title="Building Blocks" class="categoryLinkLabel_W154">Building Blocks</span></a><button aria-label="Expand sidebar category &#x27;Building Blocks&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/pear-docs/references/helpers/overview"><span title="Helpers" class="categoryLinkLabel_W154">Helpers</span></a><button aria-label="Expand sidebar category &#x27;Helpers&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/pear-docs/references/tools/overview"><span title="Tools" class="categoryLinkLabel_W154">Tools</span></a><button aria-label="Expand sidebar category &#x27;Tools&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pear-docs/troubleshooting"><span title="Troubleshooting" class="linkLabel_WmDU">Troubleshooting</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/pear-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/pear-docs/references/"><span>References</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/pear-docs/references/bare/overview"><span>Bare</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">bare-module</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>bare-module</h1></header>
<p>Module support for JavaScript.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm i bare-module</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="usage">Usage<a href="#usage" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage" translate="no">​</a></h2>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">Module</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;bare-module&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="external-modules-for-bare">External Modules for Bare<a href="#external-modules-for-bare" class="hash-link" aria-label="Direct link to External Modules for Bare" title="Direct link to External Modules for Bare" translate="no">​</a></h2>
<p>Bare provides no standard library beyond the core JavaScript API available through the <code>Bare</code> namespace. Instead, we maintain a comprehensive collection of external modules built specifically for Bare.</p>
<table><thead><tr><th style="text-align:left">Module</th><th style="text-align:left">Description</th><th style="text-align:left">Version</th></tr></thead><tbody><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-abort" target="_blank" rel="noopener noreferrer" class="">bare-abort</a></td><td style="text-align:left">Cause abnormal program termination and generate a crash report</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-abort" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-assert" target="_blank" rel="noopener noreferrer" class="">bare-assert</a></td><td style="text-align:left">Assertion library for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-assert" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-atomics" target="_blank" rel="noopener noreferrer" class="">bare-atomics</a></td><td style="text-align:left">Native synchronization primitives for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-atomics" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-buffer" target="_blank" rel="noopener noreferrer" class="">bare-buffer</a></td><td style="text-align:left">Native buffers for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-buffer" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-bundle" target="_blank" rel="noopener noreferrer" class="">bare-bundle</a></td><td style="text-align:left">Application bundle format for JavaScript, inspired by <a href="https://github.com/electron/asar" target="_blank" rel="noopener noreferrer" class="">electron/asar</a></td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-bundle" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-channel" target="_blank" rel="noopener noreferrer" class="">bare-channel</a></td><td style="text-align:left">Inter-thread messaging for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-channel" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-console" target="_blank" rel="noopener noreferrer" class="">bare-console</a></td><td style="text-align:left">WHATWG debugging console for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-console" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-crypto" target="_blank" rel="noopener noreferrer" class="">bare-crypto</a></td><td style="text-align:left">Cryptographic primitives for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-crypto" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-dgram" target="_blank" rel="noopener noreferrer" class="">bare-dgram</a></td><td style="text-align:left">Native UDP for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-dgram" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-dns" target="_blank" rel="noopener noreferrer" class="">bare-dns</a></td><td style="text-align:left">Domain name resolution for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-dns" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-env" target="_blank" rel="noopener noreferrer" class="">bare-env</a></td><td style="text-align:left">Environment variable support for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-env" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-events" target="_blank" rel="noopener noreferrer" class="">bare-events</a></td><td style="text-align:left">Event emitters for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-events" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-fetch" target="_blank" rel="noopener noreferrer" class="">bare-fetch</a></td><td style="text-align:left">WHATWG Fetch implementation for Bare</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-fetch" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-format" target="_blank" rel="noopener noreferrer" class="">bare-format</a></td><td style="text-align:left">String formatting for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-format" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-fs" target="_blank" rel="noopener noreferrer" class="">bare-fs</a></td><td style="text-align:left">Native file system for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-fs" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-hrtime" target="_blank" rel="noopener noreferrer" class="">bare-hrtime</a></td><td style="text-align:left">High-resolution timers for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-hrtime" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-http1" target="_blank" rel="noopener noreferrer" class="">bare-http1</a></td><td style="text-align:left">HTTP/1 library for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-http1" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-https" target="_blank" rel="noopener noreferrer" class="">bare-https</a></td><td style="text-align:left">HTTPS library for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-https" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-inspect" target="_blank" rel="noopener noreferrer" class="">bare-inspect</a></td><td style="text-align:left">Inspect objects as strings for debugging</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-inspect" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-inspector" target="_blank" rel="noopener noreferrer" class="">bare-inspector</a></td><td style="text-align:left">V8 inspector support for Bare</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-inspector" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-ipc" target="_blank" rel="noopener noreferrer" class="">bare-ipc</a></td><td style="text-align:left">Lightweight pipe-based IPC for Bare</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-ipc" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-module" target="_blank" rel="noopener noreferrer" class="">bare-module</a></td><td style="text-align:left">Module support for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-module" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-net" target="_blank" rel="noopener noreferrer" class="">bare-net</a></td><td style="text-align:left">TCP and IPC servers and clients for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-net" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-os" target="_blank" rel="noopener noreferrer" class="">bare-os</a></td><td style="text-align:left">Operating system utilities for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-os" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-path" target="_blank" rel="noopener noreferrer" class="">bare-path</a></td><td style="text-align:left">Path manipulation library for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-path" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-pipe" target="_blank" rel="noopener noreferrer" class="">bare-pipe</a></td><td style="text-align:left">Native I/O pipes for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-pipe" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-process" target="_blank" rel="noopener noreferrer" class="">bare-process</a></td><td style="text-align:left">Node.js-compatible process control for Bare</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-process" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-querystring" target="_blank" rel="noopener noreferrer" class="">bare-querystring</a></td><td style="text-align:left">URL query string utilities</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-querystring" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-readline" target="_blank" rel="noopener noreferrer" class="">bare-readline</a></td><td style="text-align:left">Line editing for interactive CLIs with command history</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-readline" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-realm" target="_blank" rel="noopener noreferrer" class="">bare-realm</a></td><td style="text-align:left">Realm support for Bare</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-realm" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-repl" target="_blank" rel="noopener noreferrer" class="">bare-repl</a></td><td style="text-align:left">Read-Evaluate-Print-Loop environment for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-repl" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-rpc" target="_blank" rel="noopener noreferrer" class="">bare-rpc</a></td><td style="text-align:left"><a href="https://github.com/holepunchto/librpc" target="_blank" rel="noopener noreferrer" class="">holepunchto/librpc</a> ABI compatible RPC for Bare</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-rpc" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-semver" target="_blank" rel="noopener noreferrer" class="">bare-semver</a></td><td style="text-align:left">Minimal semantic versioning library for Bare</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-semver" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-signals" target="_blank" rel="noopener noreferrer" class="">bare-signals</a></td><td style="text-align:left">Native signal handling for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-signals" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-stream" target="_blank" rel="noopener noreferrer" class="">bare-stream</a></td><td style="text-align:left">Streaming data for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-stream" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-structured-clone" target="_blank" rel="noopener noreferrer" class="">bare-structured-clone</a></td><td style="text-align:left">Structured cloning algorithm for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-structured-clone" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-subprocess" target="_blank" rel="noopener noreferrer" class="">bare-subprocess</a></td><td style="text-align:left">Native process spawning for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-subprocess" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-tcp" target="_blank" rel="noopener noreferrer" class="">bare-tcp</a></td><td style="text-align:left">Native TCP sockets for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-tcp" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-timers" target="_blank" rel="noopener noreferrer" class="">bare-timers</a></td><td style="text-align:left">Native timers for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-timers" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-tls" target="_blank" rel="noopener noreferrer" class="">bare-tls</a></td><td style="text-align:left">Transport Layer Security (TLS) streams for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-tls" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-tty" target="_blank" rel="noopener noreferrer" class="">bare-tty</a></td><td style="text-align:left">Native TTY streams for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-tty" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-type" target="_blank" rel="noopener noreferrer" class="">bare-type</a></td><td style="text-align:left">Cross-realm type predicates for Bare</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-type" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-url" target="_blank" rel="noopener noreferrer" class="">bare-url</a></td><td style="text-align:left">WHATWG URL implementation for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-url" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-vm" target="_blank" rel="noopener noreferrer" class="">bare-vm</a></td><td style="text-align:left">Isolated JavaScript contexts for Bare</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-vm" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-worker" target="_blank" rel="noopener noreferrer" class="">bare-worker</a></td><td style="text-align:left">Higher-level worker threads for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-worker" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-ws" target="_blank" rel="noopener noreferrer" class="">bare-ws</a></td><td style="text-align:left">WebSocket library for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-ws" alt="" class="img_ev3q"></td></tr><tr><td style="text-align:left"><a href="https://github.com/holepunchto/bare-zlib" target="_blank" rel="noopener noreferrer" class="">bare-zlib</a></td><td style="text-align:left">Stream-based zlib bindings for JavaScript</td><td style="text-align:left"><img decoding="async" loading="lazy" src="https://img.shields.io/npm/v/bare-zlib" alt="" class="img_ev3q"></td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="packages">Packages<a href="#packages" class="hash-link" aria-label="Direct link to Packages" title="Direct link to Packages" translate="no">​</a></h2>
<p>A package is a directory with a <code>package.json</code> file.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="fields">Fields<a href="#fields" class="hash-link" aria-label="Direct link to Fields" title="Direct link to Fields" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="name"><code>&quot;name&quot;</code><a href="#name" class="hash-link" aria-label="Direct link to name" title="Direct link to name" translate="no">​</a></h4>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;my-package&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>The name of the package. This is used for <a href="https://github.com/holepunchto/bare-addon-resolve#algorithm" target="_blank" rel="noopener noreferrer" class="">addon resolution</a>, <a href="#self-referencing" class="">self-referencing</a>, and importing packages by name.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="version"><code>&quot;version&quot;</code><a href="#version" class="hash-link" aria-label="Direct link to version" title="Direct link to version" translate="no">​</a></h4>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;version&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1.2.3&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>The current version of the package. This is used for <a href="https://github.com/holepunchto/bare-addon-resolve#algorithm" target="_blank" rel="noopener noreferrer" class="">addon resolution</a>.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="type"><code>&quot;type&quot;</code><a href="#type" class="hash-link" aria-label="Direct link to type" title="Direct link to type" translate="no">​</a></h4>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;module&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>The module format used for <code>.js</code> files. If not defined, <code>.js</code> files are interpreted as CommonJS. If set to <code>&quot;module&quot;</code>, <code>.js</code> files are instead interpreted as ES modules.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="exports"><code>&quot;exports&quot;</code><a href="#exports" class="hash-link" aria-label="Direct link to exports" title="Direct link to exports" translate="no">​</a></h4>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;exports&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;.&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./index.js&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>The entry points of the package. If defined, only the modules explicitly exported by the package may be imported when importing the package by name.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="subpath-exports">Subpath exports<a href="#subpath-exports" class="hash-link" aria-label="Direct link to Subpath exports" title="Direct link to Subpath exports" translate="no">​</a></h5>
<p>A package may define more than one entry point by declaring several subpaths with the main export being <code>&quot;.&quot;</code>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;exports&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;.&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./index.js&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;./submodule&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./lib/submodule.js&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>When importing the package by name, <code>require(&#x27;my-package&#x27;)</code> will resolve to <code>&lt;modules&gt;/my-package/index.js</code> whereas <code>require(&#x27;my-package/submodule&#x27;)</code> will resolve to <code>&lt;modules&gt;/my-package/lib/submodule.js</code>.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="conditional-exports">Conditional exports<a href="#conditional-exports" class="hash-link" aria-label="Direct link to Conditional exports" title="Direct link to Conditional exports" translate="no">​</a></h5>
<p>Conditional exports allow packages to provide different exports for different conditions, such as the loading method the importing module uses (e.g. <code>require()</code> vs <code>import</code>):</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;exports&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;.&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;import&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./index.mjs&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;require&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./index.cjs&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>When importing the package by name, <code>require(&#x27;my-package&#x27;)</code> will resolve to <code>&lt;modules&gt;/my-package/index.cjs</code> whereas <code>import &#x27;my-package&#x27;</code> will resolve to <code>&lt;modules&gt;/my-package/index.mjs</code>.</p>
<p>Similarly, conditional exports can be used to provide different entry points for different runtimes:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;exports&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;.&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;bare&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./bare.js&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;node&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./node.js&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>To provide a fallback for when no other conditions match, the <code>&quot;default&quot;</code> condition can be declared:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;exports&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;.&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;bare&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./bare.js&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;node&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./node.js&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;default&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./fallback.js&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>The following conditions are supported, listed in order from most specific to least specific as conditions should be defined:</p>
<table><thead><tr><th style="text-align:left">Condition</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>&quot;import&quot;</code></td><td style="text-align:left">Matches when the package is loaded via <code>import</code> or <code>import()</code>.</td></tr><tr><td style="text-align:left"><code>&quot;require&quot;</code></td><td style="text-align:left">Matches when the package is loaded via <code>require()</code>.</td></tr><tr><td style="text-align:left"><code>&quot;asset&quot;</code></td><td style="text-align:left">Matches when the package is loaded via <code>require.asset()</code>.</td></tr><tr><td style="text-align:left"><code>&quot;addon&quot;</code></td><td style="text-align:left">Matches when the package is loaded via <code>require.addon()</code>.</td></tr><tr><td style="text-align:left"><code>&quot;bare&quot;</code></td><td style="text-align:left">Matches for any <a href="https://github.com/holepunchto/bare" target="_blank" rel="noopener noreferrer" class="">Bare</a> environment.</td></tr><tr><td style="text-align:left"><code>&quot;node&quot;</code></td><td style="text-align:left">Matches for any Node.js environment.</td></tr><tr><td style="text-align:left"><code>&quot;&lt;platform&gt;&quot;</code></td><td style="text-align:left">Matches when equal to <code>Bare.platform</code>. See <a href="https://github.com/holepunchto/bare#bareplatform" target="_blank" rel="noopener noreferrer" class=""><code>Bare.platform</code></a> for possible values.</td></tr><tr><td style="text-align:left"><code>&quot;&lt;arch&gt;&quot;</code></td><td style="text-align:left">Matches when equal to <code>Bare.arch</code>. See <a href="https://github.com/holepunchto/bare#barearch" target="_blank" rel="noopener noreferrer" class=""><code>Bare.arch</code></a> for possible values.</td></tr><tr><td style="text-align:left"><code>&quot;simulator&quot;</code></td><td style="text-align:left">Matches when Bare was compiled for a simulator, i.e. when <code>Bare.simulator</code> is <code>true</code>.</td></tr><tr><td style="text-align:left"><code>&quot;default&quot;</code></td><td style="text-align:left">The fallback that always matches. This condition should always be last.</td></tr></tbody></table>
<p>Export conditions are evaluated in the order they are defined in the <code>&quot;exports&quot;</code> field. This means that less specific conditionals defined first will override more specific conditions define later. For example, the following will always call <code>./fallback.js</code> because <code>&quot;default&quot;</code> always matches and is defined first.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;exports&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;.&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;default&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./fallback.js&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;bare&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./bare.js&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>This is why the general rule is that conditions should be from most specific to least specific when defined.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="self-referencing">Self-referencing<a href="#self-referencing" class="hash-link" aria-label="Direct link to Self-referencing" title="Direct link to Self-referencing" translate="no">​</a></h5>
<p>Within a package, exports defined in the <code>&quot;exports&quot;</code> field can be referenced by importing the package by name. For example, given the following <code>package.json</code>...</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;my-package&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;exports&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;.&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./index.js&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;./submodule&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./lib/submodule.js&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>...any module within <code>my-package</code> may reference these entry points using either <code>require(&#x27;my-package&#x27;)</code> or <code>require(&#x27;my-package/submodule&#x27;)</code>.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="exports-sugar">Exports sugar<a href="#exports-sugar" class="hash-link" aria-label="Direct link to Exports sugar" title="Direct link to Exports sugar" translate="no">​</a></h5>
<p>If a package defines only a single export, <code>&quot;.&quot;</code>, it may leave out the subpath entirely:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;exports&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./index.js&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="imports"><code>&quot;imports&quot;</code><a href="#imports" class="hash-link" aria-label="Direct link to imports" title="Direct link to imports" translate="no">​</a></h4>
<p>A private mapping for import specifiers within the package itself. Similar to <code>&quot;exports&quot;</code>, the <code>&quot;imports&quot;</code> field can be used to conditional import other packages within the package. But unlike <code>&quot;exports&quot;</code>, <code>&quot;imports&quot;</code> permits mapping to external packages.</p>
<p>The rules are otherwise analogous to the <a href="#conditional-exports" class=""><code>&quot;exports&quot;</code></a> field.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="subpath-imports">Subpath imports<a href="#subpath-imports" class="hash-link" aria-label="Direct link to Subpath imports" title="Direct link to Subpath imports" translate="no">​</a></h5>
<p>Just like exports, subpaths can be used when importing a module internally.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;imports&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;.&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./index.js&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;./submodule&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./lib/submodule.js&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="conditional-imports">Conditional imports<a href="#conditional-imports" class="hash-link" aria-label="Direct link to Conditional imports" title="Direct link to Conditional imports" translate="no">​</a></h5>
<p>Adding conditional imports allows importing different packages based on the configured conditions. As an example:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;imports&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;bar&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;require&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./baz.cjs&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;import&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./baz.mjs&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>When importing the package <code>bar</code> as <code>require(&#x27;bar&#x27;)</code> will resolve to <code>./baz.cjs</code>, but when importing with <code>import(&#x27;bar&#x27;)</code> will resolve to <code>./baz.mjs</code>.</p>
<p>To provide a fallback for when no other conditions are met, the <code>&quot;default&quot;</code> condition can be configured like so:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;imports&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;bar&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;require&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./baz.cjs&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;asset&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./baz.txt&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;default&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./baz.mjs&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>The following conditions are supported, listed in order from most specific to least specific as conditions should be defined:</p>
<table><thead><tr><th style="text-align:left">Condition</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>&quot;import&quot;</code></td><td style="text-align:left">Matches when the package is loaded via <code>import</code> or <code>import()</code>.</td></tr><tr><td style="text-align:left"><code>&quot;require&quot;</code></td><td style="text-align:left">Matches when the package is loaded via <code>require()</code>.</td></tr><tr><td style="text-align:left"><code>&quot;asset&quot;</code></td><td style="text-align:left">Matches when the package is loaded via <code>require.asset()</code>.</td></tr><tr><td style="text-align:left"><code>&quot;addon&quot;</code></td><td style="text-align:left">Matches when the package is loaded via <code>require.addon()</code>.</td></tr><tr><td style="text-align:left"><code>&quot;bare&quot;</code></td><td style="text-align:left">Matches for any <a href="https://github.com/holepunchto/bare" target="_blank" rel="noopener noreferrer" class="">Bare</a> environment.</td></tr><tr><td style="text-align:left"><code>&quot;node&quot;</code></td><td style="text-align:left">Matches for any Node.js environment.</td></tr><tr><td style="text-align:left"><code>&quot;&lt;platform&gt;&quot;</code></td><td style="text-align:left">Matches when equal to <code>Bare.platform</code>. See <a href="https://github.com/holepunchto/bare#bareplatform" target="_blank" rel="noopener noreferrer" class=""><code>Bare.platform</code></a> for possible values.</td></tr><tr><td style="text-align:left"><code>&quot;&lt;arch&gt;&quot;</code></td><td style="text-align:left">Matches when equal to <code>Bare.arch</code>. See <a href="https://github.com/holepunchto/bare#barearch" target="_blank" rel="noopener noreferrer" class=""><code>Bare.arch</code></a> for possible values.</td></tr><tr><td style="text-align:left"><code>&quot;simulator&quot;</code></td><td style="text-align:left">Matches when Bare was compiled for a simulator, ie when <code>Bare.simulator</code> is <code>true</code>.</td></tr><tr><td style="text-align:left"><code>&quot;default&quot;</code></td><td style="text-align:left">The fallback that always matches. This condition should always be last.</td></tr></tbody></table>
<p>The general rule is that conditions should be from most specific to least specific when defined.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="-prefix"><code>#</code> Prefix<a href="#-prefix" class="hash-link" aria-label="Direct link to -prefix" title="Direct link to -prefix" translate="no">​</a></h5>
<p>All import maps are private to the package and allow mapping to external packages. Entries in <code>&quot;imports&quot;</code> may start with <code>#</code> to disambiguate from external packages, but it is not required unlike in Node.js.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="engines"><code>&quot;engines&quot;</code><a href="#engines" class="hash-link" aria-label="Direct link to engines" title="Direct link to engines" translate="no">​</a></h4>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;engines&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;bare&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&gt;=1.0.5&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>The <code>&quot;engines&quot;</code> field defines the engine requirements of the package. During module resolution, the versions declared by <code>Bare.versions</code> will be tested against the requirements declared by the package and resolution fail if they&#x27;re not satisfied.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="api">API<a href="#api" class="hash-link" aria-label="Direct link to API" title="Direct link to API" translate="no">​</a></h2>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="moduleconstantsstates"><code>Module.constants.states</code><a href="#moduleconstantsstates" class="hash-link" aria-label="Direct link to moduleconstantsstates" title="Direct link to moduleconstantsstates" translate="no">​</a></h4>
<p>The flags for the current state of a module.</p>
<table><thead><tr><th style="text-align:left">Constant</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>EVALUATED</code></td><td style="text-align:left">The module has been evaluated.</td></tr><tr><td style="text-align:left"><code>SYNTHESIZED</code></td><td style="text-align:left">The module named exports have been detected.</td></tr><tr><td style="text-align:left"><code>DESTROYED</code></td><td style="text-align:left">The module has been unloaded.</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="moduleconstantstypes"><code>Module.constants.types</code><a href="#moduleconstantstypes" class="hash-link" aria-label="Direct link to moduleconstantstypes" title="Direct link to moduleconstantstypes" translate="no">​</a></h4>
<table><thead><tr><th style="text-align:left">Constant</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>SCRIPT</code></td><td style="text-align:left">The module is a CommonJS module.</td></tr><tr><td style="text-align:left"><code>MODULE</code></td><td style="text-align:left">The module is a ECMAScript module.</td></tr><tr><td style="text-align:left"><code>JSON</code></td><td style="text-align:left">The module is a JSON file.</td></tr><tr><td style="text-align:left"><code>BUNDLE</code></td><td style="text-align:left">The module is a <a href="https://github.com/holepunchto/bare-bundle" target="_blank" rel="noopener noreferrer" class=""><code>bare-bundle</code></a>.</td></tr><tr><td style="text-align:left"><code>ADDON</code></td><td style="text-align:left">The module is a native addon.</td></tr><tr><td style="text-align:left"><code>BINARY</code></td><td style="text-align:left">The module is a binary file.</td></tr><tr><td style="text-align:left"><code>TEXT</code></td><td style="text-align:left">The module is a text file.</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="moduleprotocol"><code>Module.protocol</code><a href="#moduleprotocol" class="hash-link" aria-label="Direct link to moduleprotocol" title="Direct link to moduleprotocol" translate="no">​</a></h4>
<p>The default <code>ModuleProtocol</code> class for resolving, reading and loading modules. See <a href="#protocols" class="">Protocols</a> for usage.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="modulecache"><code>Module.cache</code><a href="#modulecache" class="hash-link" aria-label="Direct link to modulecache" title="Direct link to modulecache" translate="no">​</a></h4>
<p>The global cache of loaded modules.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="const-url--moduleresolvespecifier-parenturl-options"><code>const url = Module.resolve(specifier, parentURL[, options])</code><a href="#const-url--moduleresolvespecifier-parenturl-options" class="hash-link" aria-label="Direct link to const-url--moduleresolvespecifier-parenturl-options" title="Direct link to const-url--moduleresolvespecifier-parenturl-options" translate="no">​</a></h4>
<p>Resolve the module <code>specifier</code> relative to the <code>parentURL</code>. <code>specifier</code> is a string and <code>parentURL</code> is a WHATWG <code>URL</code>.</p>
<p>Options include:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">options </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Whether the module is called via `import` or `import()`.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">isImport</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// The referring module.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">referrer</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// The type of the module. See Module.constants.types for possible values. The</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// default is the equivalent constant of the `attributes`&#x27;s `type` property.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  type</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// A list of file extensions to look for. The default is based on the `type`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// option.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">extensions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// The ModuleProtocol to resolve the specifier. Defaults to referrer&#x27;s</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// protocol if defined, otherwise defaults to Module.protocol</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  protocol</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// A default &quot;imports&quot; map to apply to all specifiers. Follows the same</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// syntax and rules as the &quot;imports&quot; property defined in `package.json`.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  imports</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// A map of preresolved imports with keys being serialized parent URLs and</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// values being &quot;imports&quot; maps.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  resolutions</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// A map of builtin module specifiers to loaded modules. If matched by the</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// default resolver, the protocol of the resolved URL will be `builtin:`.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  builtins</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// The supported import conditions. &quot;default&quot; is always recognized.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">conditions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// The import attributes, e.g. the `{ type: &quot;json&quot; }` in:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// `import foo from &#x27;foo&#x27; with { type: &quot;json&quot; }`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// or in:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// `require(&#x27;foo&#x27;, { with: { type: &quot;json&quot; } })`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  attributes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="const-module--moduleloadurl-source-options"><code>const module = Module.load(url[, source][, options])</code><a href="#const-module--moduleloadurl-source-options" class="hash-link" aria-label="Direct link to const-module--moduleloadurl-source-options" title="Direct link to const-module--moduleloadurl-source-options" translate="no">​</a></h4>
<p>Load a module with the provided <code>url</code>. <code>url</code> is a WHATWG <code>URL</code>. If provided, the <code>source</code> will be passed to the matching <code>extension</code> for the <code>url</code>.</p>
<p>Options include:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">options </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Whether the module is called via `import` or `import()`.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">isImport</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Whether the module is called via `import()`.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">isDynamicImport</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// The referring module.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">referrer</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// The type of the module. See Module.constants.types for possible values. The</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// default is the equivalent constant of the `attributes`&#x27;s `type` property.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  type</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// The assumed type of a module without a type using an ambiguous extension</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// such as `.js`. See Module.constants.types. Inherited from `referrer` if it</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// is defined.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">defaultType</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">constants</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">types</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">SCRIPT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Cache to use to load the Module. Defaults to `Module.cache`.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  cache</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// The module representing the entry script where the program was launched.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  main</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// The ModuleProtocol to use resolve the specifier. Defaults to referrer&#x27;s</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// `protocol` if defined, otherwise defaults to `Module.protocol`.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  protocol</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// A default &quot;imports&quot; map to apply to all specifiers. Follows the same</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// syntax and rules as the &quot;imports&quot; property defined in `package.json`.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  imports</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// A map of preresolved imports with keys being serialized parent URLs and</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// values being &quot;imports&quot; maps.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  resolutions</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// A map of builtin module specifiers to loaded modules. If the `url`&#x27;s</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// protocol is `builtin:`, the module&#x27;s exports will be set to the matching</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// value in the map for `url.pathname`.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  builtins</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// The supported import conditions. &quot;default&quot; is always recognized.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  conditions</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// The import attributes, e.g. the `{ type: &quot;json&quot; }` in:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// `import foo from &#x27;foo&#x27; with { type: &quot;json&quot; }`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// or in:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// `require(&#x27;foo&#x27;, { with: { type: &quot;json&quot; } })`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  attributes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="const-url--moduleassetspecifier-parenturl-options"><code>const url = Module.asset(specifier, parentURL[, options])</code><a href="#const-url--moduleassetspecifier-parenturl-options" class="hash-link" aria-label="Direct link to const-url--moduleassetspecifier-parenturl-options" title="Direct link to const-url--moduleassetspecifier-parenturl-options" translate="no">​</a></h4>
<p>Get the asset URL by resolving <code>specifier</code> relative to <code>parentURL</code>. <code>specifier</code> is a string and <code>parentURL</code> is a WHATWG <code>URL</code>.</p>
<p>Options include:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">options </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// The referring module.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">referrer</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// The ModuleProtocol to use resolve the specifier. Defaults to referrer&#x27;s</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// protocol if defined, otherwise defaults to Module.protocol</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  protocol</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// A default &quot;imports&quot; map to apply to all specifiers. Follows the same</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// syntax and rules as the &quot;imports&quot; property defined in `package.json`.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  imports</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// A map of preresolved imports with keys being serialized parent URLs and</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// values being &quot;imports&quot; maps.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  resolutions</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// The supported import conditions. &quot;default&quot; is always recognized.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  conditions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="moduleurl"><code>module.url</code><a href="#moduleurl" class="hash-link" aria-label="Direct link to moduleurl" title="Direct link to moduleurl" translate="no">​</a></h4>
<p>The WHATWG <code>URL</code> instance for the module.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="modulefilename"><code>module.filename</code><a href="#modulefilename" class="hash-link" aria-label="Direct link to modulefilename" title="Direct link to modulefilename" translate="no">​</a></h4>
<p>The pathname of the <code>module.url</code>.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="moduledirname"><code>module.dirname</code><a href="#moduledirname" class="hash-link" aria-label="Direct link to moduledirname" title="Direct link to moduledirname" translate="no">​</a></h4>
<p>The directory name of the module.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="moduletype"><code>module.type</code><a href="#moduletype" class="hash-link" aria-label="Direct link to moduletype" title="Direct link to moduletype" translate="no">​</a></h4>
<p>The type of the module. See <a href="#module.constants.types" class=""><code>Module.constants.types</code></a> for possible values.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="moduledefaulttype"><code>module.defaultType</code><a href="#moduledefaulttype" class="hash-link" aria-label="Direct link to moduledefaulttype" title="Direct link to moduledefaulttype" translate="no">​</a></h4>
<p>The assumed type of a module without a <code>type</code> using an ambiguous extension, such as <code>.js</code>. See <a href="#module.constants.types" class=""><code>Module.constants.types</code></a> for possible values.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="modulecache-1"><code>module.cache</code><a href="#modulecache-1" class="hash-link" aria-label="Direct link to modulecache-1" title="Direct link to modulecache-1" translate="no">​</a></h4>
<p>A cache of loaded modules for this module. Defaults to <code>Module.cache</code>.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="modulemain"><code>module.main</code><a href="#modulemain" class="hash-link" aria-label="Direct link to modulemain" title="Direct link to modulemain" translate="no">​</a></h4>
<p>The module representing the entry script where the program was launched.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="moduleexports"><code>module.exports</code><a href="#moduleexports" class="hash-link" aria-label="Direct link to moduleexports" title="Direct link to moduleexports" translate="no">​</a></h4>
<p>The exports from the module.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="moduleimports"><code>module.imports</code><a href="#moduleimports" class="hash-link" aria-label="Direct link to moduleimports" title="Direct link to moduleimports" translate="no">​</a></h4>
<p>The import map when the module was loaded.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="moduleresolutions"><code>module.resolutions</code><a href="#moduleresolutions" class="hash-link" aria-label="Direct link to moduleresolutions" title="Direct link to moduleresolutions" translate="no">​</a></h4>
<p>A map of preresolved imports with keys being serialized parent URLs and values being <code>&quot;imports&quot;</code> maps.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="modulebuiltins"><code>module.builtins</code><a href="#modulebuiltins" class="hash-link" aria-label="Direct link to modulebuiltins" title="Direct link to modulebuiltins" translate="no">​</a></h4>
<p>A map of builtin module specifiers mapped to the loaded module.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="moduleconditions"><code>module.conditions</code><a href="#moduleconditions" class="hash-link" aria-label="Direct link to moduleconditions" title="Direct link to moduleconditions" translate="no">​</a></h4>
<p>An array of conditions used to resolve dependencies while loading the module. See <a href="#conditional-exports" class="">Conditional Exports</a> for possible values.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="moduleprotocol-1"><code>module.protocol</code><a href="#moduleprotocol-1" class="hash-link" aria-label="Direct link to moduleprotocol-1" title="Direct link to moduleprotocol-1" translate="no">​</a></h4>
<p>The <code>ModuleProtocol</code> class used for resolving, reading and loading modules. See <a href="#protocols" class="">Protocols</a>.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="moduledestroy"><code>module.destroy()</code><a href="#moduledestroy" class="hash-link" aria-label="Direct link to moduledestroy" title="Direct link to moduledestroy" translate="no">​</a></h4>
<p>Unloads the module.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="commonjs-modules">CommonJS modules<a href="#commonjs-modules" class="hash-link" aria-label="Direct link to CommonJS modules" title="Direct link to CommonJS modules" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="requirespecifier-options"><code>require(specifier[, options])</code><a href="#requirespecifier-options" class="hash-link" aria-label="Direct link to requirespecifier-options" title="Direct link to requirespecifier-options" translate="no">​</a></h4>
<p>Used to import JavaScript or JSON modules and local files. Relative paths such as <code>./</code>, <code>./foo</code>, <code>./bar/baz</code>, and <code>../foo</code> will be resolved against the directory named by <code>__dirname</code>. POSIX style paths are resolved in an OS independent fashion, meaning that the examples above will work on Windows in the same way they would on POSIX systems.</p>
<p>Returns the exported module contents.</p>
<p>Options include:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">options </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// The import attributes which instruct how the file or module should be loaded.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Possible values for `type` are `script`, `module`, `json`, `bundle`,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// `addon`, `binary` and `text`.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">with</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;json&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="requiremain"><code>require.main</code><a href="#requiremain" class="hash-link" aria-label="Direct link to requiremain" title="Direct link to requiremain" translate="no">​</a></h4>
<p>The module representing the entry script where the program was launched. The same value as <a href="#modulemain" class=""><code>module.main</code></a> for the current module.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="requirecache"><code>require.cache</code><a href="#requirecache" class="hash-link" aria-label="Direct link to requirecache" title="Direct link to requirecache" translate="no">​</a></h4>
<p>A cache of loaded modules for this module. The same value as <code>module.cache</code> for the current module.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="const-path--requireresolvespecifier-parenturl"><code>const path = require.resolve(specifier[, parentURL])</code><a href="#const-path--requireresolvespecifier-parenturl" class="hash-link" aria-label="Direct link to const-path--requireresolvespecifier-parenturl" title="Direct link to const-path--requireresolvespecifier-parenturl" translate="no">​</a></h4>
<p>Use the internal machinery of <code>require()</code> to resolve the <code>specifier</code> string relative to the URL <code>parentURL</code> and return the path string.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="requireaddonspecifier-parenturl"><code>require.addon([specifier][, parentURL])</code><a href="#requireaddonspecifier-parenturl" class="hash-link" aria-label="Direct link to requireaddonspecifier-parenturl" title="Direct link to requireaddonspecifier-parenturl" translate="no">​</a></h4>
<p>Also used to import modules but specifically loads only addon modules. <code>specifier</code> is resolved relative to <code>parentURL</code> using the <a href="https://github.com/holepunchto/bare-addon-resolve#algorithm" target="_blank" rel="noopener noreferrer" class="">addon resolution</a> algorithm.</p>
<p>Returns the exported module contents.</p>
<p>A common pattern for writing an addon module is to use <code>require.addon()</code> as the JavaScript module exports:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> require</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">addon</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>See <a href="https://github.com/holepunchto/bare-addon" target="_blank" rel="noopener noreferrer" class=""><code>bare-addon</code></a> for a template of building native addon modules.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="requireaddonhost"><code>require.addon.host</code><a href="#requireaddonhost" class="hash-link" aria-label="Direct link to requireaddonhost" title="Direct link to requireaddonhost" translate="no">​</a></h4>
<p>Returns the string representation of the platform and architecture used when resolving addons with the pattern <code>&lt;platform&gt;-&lt;arch&gt;[-simulator]</code>. Returns the same value as <code>Bare.Addon.host</code>.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="const-path--requireaddonresolvespecifier-parenturl"><code>const path = require.addon.resolve([specifier][, parentURL])</code><a href="#const-path--requireaddonresolvespecifier-parenturl" class="hash-link" aria-label="Direct link to const-path--requireaddonresolvespecifier-parenturl" title="Direct link to const-path--requireaddonresolvespecifier-parenturl" translate="no">​</a></h4>
<p>Resolve the <code>specifier</code> string relative to the URL <code>parentURL</code> as an addon and returns the path string. The <code>specifier</code> is resolved using the <a href="https://github.com/holepunchto/bare-addon-resolve#algorithm" target="_blank" rel="noopener noreferrer" class="">addon resolution algorithm</a>.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="const-path--requireassetspecifier-parenturl"><code>const path = require.asset(specifier[, parentURL])</code><a href="#const-path--requireassetspecifier-parenturl" class="hash-link" aria-label="Direct link to const-path--requireassetspecifier-parenturl" title="Direct link to const-path--requireassetspecifier-parenturl" translate="no">​</a></h4>
<p>Resolve the <code>specifier</code> relative to the <code>parentURL</code> and return the path of the asset as a string.</p>
<p>Can be used to load assets, for example the following loads <code>./foo.txt</code> from the local files:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> fs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;bare-fs&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> contents </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> fs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">readFileSync</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">require</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">asset</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;./foo.txt&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ecmascript-modules">ECMAScript modules<a href="#ecmascript-modules" class="hash-link" aria-label="Direct link to ECMAScript modules" title="Direct link to ECMAScript modules" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="import-defaultexport--as-name--export1-export2-as-alias2---from-specifier-with--type-json-"><code>import defaultExport, * as name, { export1, export2 as alias2, ... } from &#x27;specifier&#x27; with { type: &#x27;json&#x27; }</code><a href="#import-defaultexport--as-name--export1-export2-as-alias2---from-specifier-with--type-json-" class="hash-link" aria-label="Direct link to import-defaultexport--as-name--export1-export2-as-alias2---from-specifier-with--type-json-" title="Direct link to import-defaultexport--as-name--export1-export2-as-alias2---from-specifier-with--type-json-" translate="no">​</a></h4>
<p>The static <code>import</code> declaration is used to import read-only live bindings that are exported by another module. The imported bindings are called <em>live</em> bindings because they are updated by the module that exported the binding, but cannot be re-assigned by the importing module. In brief, you can import what is exported from another module.</p>
<p>For more information on <code>import</code> syntax, see <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import" target="_blank" rel="noopener noreferrer" class="">MDN</a>.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="importmetaurl"><code>import.meta.url</code><a href="#importmetaurl" class="hash-link" aria-label="Direct link to importmetaurl" title="Direct link to importmetaurl" translate="no">​</a></h4>
<p>The string representation of the URL for the current module.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="importmetamain"><code>import.meta.main</code><a href="#importmetamain" class="hash-link" aria-label="Direct link to importmetamain" title="Direct link to importmetamain" translate="no">​</a></h4>
<p>A boolean representing whether the current module is the entry script where the program was launched.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="importmetacache"><code>import.meta.cache</code><a href="#importmetacache" class="hash-link" aria-label="Direct link to importmetacache" title="Direct link to importmetacache" translate="no">​</a></h4>
<p>A cache of loaded modules for this module. The same value as <code>module.cache</code> for the current module.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="const-href--importmetaresolvespecifier-parenturl"><code>const href = import.meta.resolve(specifier[, parentURL])</code><a href="#const-href--importmetaresolvespecifier-parenturl" class="hash-link" aria-label="Direct link to const-href--importmetaresolvespecifier-parenturl" title="Direct link to const-href--importmetaresolvespecifier-parenturl" translate="no">​</a></h4>
<p>A module-relative resolution function which returns the URL string for the module. The <code>specifier</code> is a string which is resolved relative to the <code>parentURL</code> which is a WHATWG URL.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="importmetaaddonspecifier-parenturl"><code>import.meta.addon([specifier][, parentURL])</code><a href="#importmetaaddonspecifier-parenturl" class="hash-link" aria-label="Direct link to importmetaaddonspecifier-parenturl" title="Direct link to importmetaaddonspecifier-parenturl" translate="no">​</a></h4>
<p>Also used to import modules but specifically loads only addon modules. <code>specifier</code> is resolved relative to <code>parentURL</code> using the <a href="https://github.com/holepunchto/bare-addon-resolve#algorithm" target="_blank" rel="noopener noreferrer" class="">addon resolution</a> algorithm.</p>
<p>Returns the exported module contents.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="importmetaaddonhost"><code>import.meta.addon.host</code><a href="#importmetaaddonhost" class="hash-link" aria-label="Direct link to importmetaaddonhost" title="Direct link to importmetaaddonhost" translate="no">​</a></h4>
<p>Returns the string representation of the platform and architecture used when resolving addons with the pattern <code>&lt;platform&gt;-&lt;arch&gt;[-simulator]</code>. Returns the same value as <code>Bare.Addon.host</code>.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="const-href--importmetaaddonresolvespecifier-parenturl"><code>const href = import.meta.addon.resolve([specifier][, parentURL])</code><a href="#const-href--importmetaaddonresolvespecifier-parenturl" class="hash-link" aria-label="Direct link to const-href--importmetaaddonresolvespecifier-parenturl" title="Direct link to const-href--importmetaaddonresolvespecifier-parenturl" translate="no">​</a></h4>
<p>Resolve the <code>specifier</code> string relative to the URL <code>parentURL</code> as an addon and returns the URL string. The <code>specifier</code> is resolved using the <a href="https://github.com/holepunchto/bare-addon-resolve#algorithm" target="_blank" rel="noopener noreferrer" class="">addon resolution algorithm</a>.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="const-href--importmetaassetspecifier-parenturl"><code>const href = import.meta.asset(specifier[, parentURL])</code><a href="#const-href--importmetaassetspecifier-parenturl" class="hash-link" aria-label="Direct link to const-href--importmetaassetspecifier-parenturl" title="Direct link to const-href--importmetaassetspecifier-parenturl" translate="no">​</a></h4>
<p>Resolve the <code>specifier</code> relative to the <code>parentURL</code> and return the URL of the asset as a string.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="custom-require">Custom <code>require()</code><a href="#custom-require" class="hash-link" aria-label="Direct link to custom-require" title="Direct link to custom-require" translate="no">​</a></h3>
<p>Creating a custom require allows one to create a preconfigured <code>require()</code>. This can be useful in scenarios such as a Read-Evaluate-Print-Loop (REPL) where the parent URL is set to a directory so requiring relative paths to work correctly.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="const-require--modulecreaterequireparenturl-options"><code>const require = Module.createRequire(parentURL[, options])</code><a href="#const-require--modulecreaterequireparenturl-options" class="hash-link" aria-label="Direct link to const-require--modulecreaterequireparenturl-options" title="Direct link to const-require--modulecreaterequireparenturl-options" translate="no">​</a></h4>
<p>Options include:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">options </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// The module to become the `referrer` for the returned `require()`. Defaults</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// to creating a new module instance from the `parentURL` with the same</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// options.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">module</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// The referring module.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">referrer</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// The type of the module. See Module.constants.types for possible values.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">constants</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">types</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">SCRIPT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// The assumed type of a module without a type using an ambiguous extension</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// such as `.js`. See Module.constants.types. Inherited from `referrer` if it</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// is defined, otherwise defaults to SCRIPT.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">defaultType</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">constants</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">types</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">SCRIPT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// A cache of loaded modules. Inherited from `referrer` if it is defined,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// otherwise defaults to `Module.cache`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  cache</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// The module representing the entry script where the program was launched.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  main</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// The ModuleProtocol to use resolve the specifier and/or the module. Defaults to</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// referrer&#x27;s protocol if defined, otherwise defaults to Module.protocol</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  protocol</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// A default &quot;imports&quot; map to apply to all specifiers. Follows the same</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// syntax and rules as the &quot;imports&quot; property defined in `package.json`.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  imports</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// A map of preresolved imports with keys being serialized parent URLs and</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// values being &quot;imports&quot; maps.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  resolutions</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// A map of builtin module specifiers to loaded modules.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  builtins</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// The supported import conditions. &quot;default&quot; is always recognized.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  conditions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="protocols">Protocols<a href="#protocols" class="hash-link" aria-label="Direct link to Protocols" title="Direct link to Protocols" translate="no">​</a></h3>
<p>Protocols define how to resolve, access and load modules. Custom protocols can be defined to extend or replace how module are resolved and loaded to support things like loading modules via a <a href="https://github.com/holepunchto/hyperdrive" target="_blank" rel="noopener noreferrer" class=""><code>Hyperdrive</code></a>.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="const-protocol--new-moduleprotocolmethods-context--null"><code>const protocol = new Module.Protocol(methods, context = null)</code><a href="#const-protocol--new-moduleprotocolmethods-context--null" class="hash-link" aria-label="Direct link to const-protocol--new-moduleprotocolmethods-context--null" title="Direct link to const-protocol--new-moduleprotocolmethods-context--null" translate="no">​</a></h4>
<p>Methods include:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">methods </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// function (specifier, parentURL): string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// A function to preprocess the `specifier` and `parentURL` before the resolve</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// algorithm is called.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  preresolve</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// function (url): string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// A function to process the resolved URL. Can be used to convert file paths,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// etc.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  postresolve</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// function* (specifier, parentURL, imports): [URL]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// A generator to resolve the `specifier` to a URL.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  resolve</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// function (url): boolean</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// A function that returns whether the URL exists as a boolean.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  exists</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// function (url): string | Buffer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// A function that returns the source code of a URL represented as a string or</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// buffer.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  read</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// function (url): object</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// A function that returns the evaluated exports for the url. This is</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// only called for Javascript modules (extensions `.js`, `.cjs` &amp; `.mjs`)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// by default. If defined, this function will skip calling `read()` and</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// evaluating the source method for the default implementations of the</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Javascript extensions.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  load</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// function (url): URL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// A function used to post process URLs for addons before `postresolve()`.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  addon</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// function (url): URL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// A function used to post process URLs for assets before `postresolve()`.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  asset</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="bundles">Bundles<a href="#bundles" class="hash-link" aria-label="Direct link to Bundles" title="Direct link to Bundles" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="const-bundle--new-modulebundle"><code>const bundle = new Module.Bundle()</code><a href="#const-bundle--new-modulebundle" class="hash-link" aria-label="Direct link to const-bundle--new-modulebundle" title="Direct link to const-bundle--new-modulebundle" translate="no">​</a></h4>
<p>See (holepunchto/bare-bundle)[<a href="https://github.com/holepunchto/bare-bundle" target="_blank" rel="noopener noreferrer" class="">https://github.com/holepunchto/bare-bundle</a>].</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/references/bare/bare-modules.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/pear-docs/references/bare/api"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">API</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/pear-docs/references/bare/nodejs-compatibility-with-bare"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Node.js Compatibility with Bare</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#usage" class="table-of-contents__link toc-highlight">Usage</a></li><li><a href="#external-modules-for-bare" class="table-of-contents__link toc-highlight">External Modules for Bare</a></li><li><a href="#packages" class="table-of-contents__link toc-highlight">Packages</a><ul><li><a href="#fields" class="table-of-contents__link toc-highlight">Fields</a></li></ul></li><li><a href="#api" class="table-of-contents__link toc-highlight">API</a><ul><li><a href="#commonjs-modules" class="table-of-contents__link toc-highlight">CommonJS modules</a></li><li><a href="#ecmascript-modules" class="table-of-contents__link toc-highlight">ECMAScript modules</a></li><li><a href="#custom-require" class="table-of-contents__link toc-highlight">Custom <code>require()</code></a></li><li><a href="#protocols" class="table-of-contents__link toc-highlight">Protocols</a></li><li><a href="#bundles" class="table-of-contents__link toc-highlight">Bundles</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"></div></footer></div>
</body>
</html>