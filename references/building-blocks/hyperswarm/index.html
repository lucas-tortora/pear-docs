<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-references/building-blocks/hyperswarm" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Hyperswarm | Pear Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://lucas-tortora.github.io/pear-docs/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://lucas-tortora.github.io/pear-docs/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://lucas-tortora.github.io/pear-docs/references/building-blocks/hyperswarm"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Hyperswarm | Pear Docs"><meta data-rh="true" name="description" content="Hyperswarm helps to find and connect to peers announcing a common &#x27;topic&#x27; that can be anything. Using Hyperswarm, discover and connect peers with a shared interest over a distributed network. For example, we often use Hypercore&#x27;s discovery key as the swarm topic for discovering peers to replicate with."><meta data-rh="true" property="og:description" content="Hyperswarm helps to find and connect to peers announcing a common &#x27;topic&#x27; that can be anything. Using Hyperswarm, discover and connect peers with a shared interest over a distributed network. For example, we often use Hypercore&#x27;s discovery key as the swarm topic for discovering peers to replicate with."><link data-rh="true" rel="icon" href="/pear-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://lucas-tortora.github.io/pear-docs/references/building-blocks/hyperswarm"><link data-rh="true" rel="alternate" href="https://lucas-tortora.github.io/pear-docs/references/building-blocks/hyperswarm" hreflang="en"><link data-rh="true" rel="alternate" href="https://lucas-tortora.github.io/pear-docs/references/building-blocks/hyperswarm" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"References","item":"https://lucas-tortora.github.io/pear-docs/references/"},{"@type":"ListItem","position":2,"name":"Building Blocks","item":"https://lucas-tortora.github.io/pear-docs/references/building-blocks/overview"},{"@type":"ListItem","position":3,"name":"Hyperswarm","item":"https://lucas-tortora.github.io/pear-docs/references/building-blocks/hyperswarm"}]}</script><link rel="stylesheet" href="/pear-docs/assets/css/styles.2f4d04e7.css">
<script src="/pear-docs/assets/js/runtime~main.f81fc2be.js" defer="defer"></script>
<script src="/pear-docs/assets/js/main.25a23557.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/pear-docs/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/pear-docs/"><div class="navbar__logo"><img src="/pear-docs/img/logo.svg" alt="Lucas Tortora - Pear Docs Revamp" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/pear-docs/img/logo.svg" alt="Lucas Tortora - Pear Docs Revamp" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Lucas Tortora - Pear Docs Revamp</b></a><a class="navbar__item navbar__link" href="/pear-docs/about-pear/what-is-pear">About Pear</a><a class="navbar__item navbar__link" href="/pear-docs/getting-started/install/">Getting Started</a><a class="navbar__item navbar__link" href="/pear-docs/how-to/">How To</a><a class="navbar__item navbar__link" href="/pear-docs/tutorials/">Tutorials</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/pear-docs/references/">References</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/lucas-tortora/pear" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pear-docs/"><span title="Pear by Holepunch" class="linkLabel_WmDU">Pear by Holepunch</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/pear-docs/about-pear/what-is-pear"><span title="About Pear" class="categoryLinkLabel_W154">About Pear</span></a><button aria-label="Expand sidebar category &#x27;About Pear&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/pear-docs/getting-started/install"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/pear-docs/how-to/"><span title="How To" class="categoryLinkLabel_W154">How To</span></a><button aria-label="Expand sidebar category &#x27;How To&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/pear-docs/tutorials/"><span title="Tutorials" class="categoryLinkLabel_W154">Tutorials</span></a><button aria-label="Expand sidebar category &#x27;Tutorials&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/pear-docs/references/"><span title="References" class="categoryLinkLabel_W154">References</span></a><button aria-label="Collapse sidebar category &#x27;References&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/pear-docs/references/pear/overview"><span title="Pear" class="categoryLinkLabel_W154">Pear</span></a><button aria-label="Expand sidebar category &#x27;Pear&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/pear-docs/references/bare/overview"><span title="Bare" class="categoryLinkLabel_W154">Bare</span></a><button aria-label="Expand sidebar category &#x27;Bare&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/pear-docs/references/building-blocks/overview"><span title="Building Blocks" class="categoryLinkLabel_W154">Building Blocks</span></a><button aria-label="Collapse sidebar category &#x27;Building Blocks&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pear-docs/references/building-blocks/autobase"><span title="Autobase" class="linkLabel_WmDU">Autobase</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pear-docs/references/building-blocks/hyperbee"><span title="Hyperbee" class="linkLabel_WmDU">Hyperbee</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pear-docs/references/building-blocks/hypercore"><span title="Hypercore" class="linkLabel_WmDU">Hypercore</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pear-docs/references/building-blocks/hyperdht"><span title="HyperDHT" class="linkLabel_WmDU">HyperDHT</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pear-docs/references/building-blocks/hyperdrive"><span title="Hyperdrive" class="linkLabel_WmDU">Hyperdrive</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/pear-docs/references/building-blocks/hyperswarm"><span title="Hyperswarm" class="linkLabel_WmDU">Hyperswarm</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pear-docs/references/building-blocks/overview"><span title="Building Blocks Overview" class="linkLabel_WmDU">Building Blocks Overview</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/pear-docs/references/helpers/overview"><span title="Helpers" class="categoryLinkLabel_W154">Helpers</span></a><button aria-label="Expand sidebar category &#x27;Helpers&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/pear-docs/references/tools/overview"><span title="Tools" class="categoryLinkLabel_W154">Tools</span></a><button aria-label="Expand sidebar category &#x27;Tools&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pear-docs/troubleshooting"><span title="Troubleshooting" class="linkLabel_WmDU">Troubleshooting</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/pear-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/pear-docs/references/"><span>References</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/pear-docs/references/building-blocks/overview"><span>Building Blocks</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Hyperswarm</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Hyperswarm</h1></header>
<p>Hyperswarm helps to find and connect to peers announcing a common &#x27;topic&#x27; that can be anything. Using Hyperswarm, discover and connect peers with a shared interest over a distributed network. For example, we often use Hypercore&#x27;s discovery key as the swarm topic for discovering peers to replicate with.</p>
<p>Hyperswarm offers a simple interface to abstract away the complexities of underlying modules such as <a class="" href="/pear-docs/references/building-blocks/hyperdht">HyperDHT</a> and <a class="" href="/pear-docs/references/helpers/secretstream">SecretStream</a>. These modules can also be used independently for specialized tasks.</p>
<p>Notable features include:</p>
<ul>
<li class="">An improved UDP holepunching algorithm that uses arbitrary DHT nodes (optionally selected by the connecting peers) to proxy necessary metadata while being maximally privacy-preserving.</li>
<li class="">A custom-built transport protocol, <a href="https://github.com/holepunchto/libudx" target="_blank" rel="noopener noreferrer" class="">UDX</a>, that takes advantage of the holepunching algorithm to avoid unnecessary overhead (it doesn&#x27;t include handshaking since holepunching takes care of that, for example). It&#x27;s blazing fast.</li>
<li class="">A simplified DHT API that closely resembles NodeJS&#x27;s <code>net</code> module, but using public keys instead of IP addresses.</li>
</ul>
<blockquote>
<p><a href="https://github.com/holepunchto/hyperswarm" target="_blank" rel="noopener noreferrer" class="">GitHub (Hyperswarm)</a></p>
</blockquote>
<ul>
<li class=""><a class="" href="/pear-docs/references/building-blocks/hyperswarm">Hyperswarm</a>
<ul>
<li class=""><a class="" href="/pear-docs/references/building-blocks/hyperswarm#installation"><code>Create a new instance</code></a></li>
<li class="">Basic:<!-- -->
<ul>
<li class="">Properties:<!-- -->
<ul>
<li class=""><a class="" href="/pear-docs/references/building-blocks/hyperswarm#swarm.connecting"><code>swarm.connecting</code></a></li>
<li class=""><a class="" href="/pear-docs/references/building-blocks/hyperswarm#swarm.connections"><code>swarm.connections</code></a></li>
<li class=""><a class="" href="/pear-docs/references/building-blocks/hyperswarm#swarm.peers"><code>swarm.peers</code></a></li>
<li class=""><a class="" href="/pear-docs/references/building-blocks/hyperswarm#swarm.dht"><code>swarm.dht</code></a></li>
</ul>
</li>
<li class="">Methods:<!-- -->
<ul>
<li class=""><a class="" href="/pear-docs/references/building-blocks/hyperswarm#swarm.join"><code>swarm.join(topic, [options])</code></a></li>
</ul>
</li>
<li class="">Events:<!-- -->
<ul>
<li class=""><a class="" href="/pear-docs/references/building-blocks/hyperswarm#swarm.onconnection"><code>connection</code></a></li>
<li class=""><a class="" href="/pear-docs/references/building-blocks/hyperswarm#swarm.onupdate"><code>update</code></a></li>
</ul>
</li>
<li class=""><a class="" href="/pear-docs/references/building-blocks/hyperswarm#clients-and-servers"><code>Clients and Servers:</code></a>
<ul>
<li class="">Methods:<!-- -->
<ul>
<li class=""><a class="" href="/pear-docs/references/building-blocks/hyperswarm#swarm.leave"><code>swarm.leave(topic)</code></a></li>
<li class=""><a class="" href="/pear-docs/references/building-blocks/hyperswarm#swarm.joinpeer"><code>swarm.joinPeer(noisePublicKey)</code></a></li>
<li class=""><a class="" href="/pear-docs/references/building-blocks/hyperswarm#swarm.leavepeer"><code>swarm.leavePeer(noisePublicKey)</code></a></li>
<li class=""><a class="" href="/pear-docs/references/building-blocks/hyperswarm#swarm.status"><code>swarm.status(topic)</code></a></li>
<li class=""><a class="" href="/pear-docs/references/building-blocks/hyperswarm#swarm.listen"><code>swarm.listen()</code></a></li>
<li class=""><a class="" href="/pear-docs/references/building-blocks/hyperswarm#swarm.flush"><code>swarm.flush()</code></a></li>
</ul>
</li>
</ul>
</li>
<li class=""><a class="" href="/pear-docs/references/building-blocks/hyperswarm#peerinfo"><code>Peer info:</code></a>
<ul>
<li class="">Properties:<!-- -->
<ul>
<li class=""><a class="" href="/pear-docs/references/building-blocks/hyperswarm#peerinfo.publickey"><code>peerInfo.publicKey</code></a></li>
<li class=""><a class="" href="/pear-docs/references/building-blocks/hyperswarm#peerinfo.topics"><code>peerInfo.topics</code></a></li>
<li class=""><a class="" href="/pear-docs/references/building-blocks/hyperswarm#peerinfo.prioritized"><code>peerInfo.prioritized</code></a></li>
</ul>
</li>
<li class="">Methods:<!-- -->
<ul>
<li class=""><a class="" href="/pear-docs/references/building-blocks/hyperswarm#peerinfo.ban"><code>peerInfo.ban(banStatus = false)</code></a></li>
</ul>
</li>
</ul>
</li>
<li class=""><a class="" href="/pear-docs/references/building-blocks/hyperswarm#peer-discovery"><code>Peer Discovery:</code></a>
<ul>
<li class="">Methods:<!-- -->
<ul>
<li class=""><a class="" href="/pear-docs/references/building-blocks/hyperswarm#discovery.flushed"><code>discovery.flushed()</code></a></li>
<li class=""><a class="" href="/pear-docs/references/building-blocks/hyperswarm#discovery.destroy"><code>discovery.refresh({ client, server })</code></a></li>
<li class=""><a class="" href="/pear-docs/references/building-blocks/hyperswarm#discovery.destroy"><code>discovery.destroy()</code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="installation">Installation<a href="#installation" class="hash-link" aria-label="Direct link to Installation" title="Direct link to Installation" translate="no">​</a></h3>
<p>Install with <a href="https://www.npmjs.com/" target="_blank" rel="noopener noreferrer" class="">npm</a>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm install hyperswarm</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="api">API<a href="#api" class="hash-link" aria-label="Direct link to API" title="Direct link to API" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="const-swarm--new-hyperswarmoptions"><strong><code>const swarm = new Hyperswarm([options])</code></strong><a href="#const-swarm--new-hyperswarmoptions" class="hash-link" aria-label="Direct link to const-swarm--new-hyperswarmoptions" title="Direct link to const-swarm--new-hyperswarmoptions" translate="no">​</a></h4>
<p>Constructs a new Hyperswarm instance.</p>
<p>The following table describes the properties of the optional <code>options</code> object.</p>
<table><thead><tr><th style="text-align:center">Property</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center"><strong><code>keyPair</code></strong></td><td>A Noise keypair will be used to listen/connect on the DHT. Defaults to a new key pair.</td></tr><tr><td style="text-align:center"><strong><code>seed</code></strong></td><td>A unique, 32-byte, random seed that can be used to deterministically generate the key pair.</td></tr><tr><td style="text-align:center"><strong><code>maxPeers</code></strong></td><td>The maximum number of peer connections allowed.</td></tr><tr><td style="text-align:center"><strong><code>firewall</code></strong></td><td>A sync function of the form <code>remotePublicKey =&gt; (true|false)</code>. If true, the connection will be rejected. Defaults to allowing all connections.</td></tr><tr><td style="text-align:center"><strong><code>dht</code></strong></td><td>A DHT instance. Defaults to a new instance.</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="properties"><strong>Properties:</strong><a href="#properties" class="hash-link" aria-label="Direct link to properties" title="Direct link to properties" translate="no">​</a></h4>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="swarm.connecting"><strong><code>swarm.connecting</code></strong><a href="#swarm.connecting" class="hash-link" aria-label="Direct link to swarm.connecting" title="Direct link to swarm.connecting" translate="no">​</a></h4>
<p>A number that indicates connections in progress.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="swarm.connections"><strong><code>swarm.connections</code></strong><a href="#swarm.connections" class="hash-link" aria-label="Direct link to swarm.connections" title="Direct link to swarm.connections" translate="no">​</a></h4>
<p>A set of all active client/server connections.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="swarm.peers"><strong><code>swarm.peers</code></strong><a href="#swarm.peers" class="hash-link" aria-label="Direct link to swarm.peers" title="Direct link to swarm.peers" translate="no">​</a></h4>
<p>A Map containing all connected peers, of the form: <code>(Noise public key hex string) -&gt; PeerInfo object</code></p>
<p>See the <a class="" href="/pear-docs/references/building-blocks/hyperswarm#peerinfo"><code>PeerInfo</code></a> API for more details.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="swarm.dht"><strong><code>swarm.dht</code></strong><a href="#swarm.dht" class="hash-link" aria-label="Direct link to swarm.dht" title="Direct link to swarm.dht" translate="no">​</a></h4>
<p>A <a class="" href="/pear-docs/references/building-blocks/hyperdht"><code>HyperDHT</code></a> instance. Useful for lower-level control over Hyperswarm&#x27;s networking.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="methods">Methods<a href="#methods" class="hash-link" aria-label="Direct link to Methods" title="Direct link to Methods" translate="no">​</a></h4>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="swarm.join"><strong><code>const discovery = swarm.join(topic, [options])</code></strong><a href="#swarm.join" class="hash-link" aria-label="Direct link to swarm.join" title="Direct link to swarm.join" translate="no">​</a></h4>
<p>Returns a <a class="" href="/pear-docs/references/building-blocks/hyperswarm#peer-discovery"><code>PeerDiscovery</code></a> object.</p>
<p>Start discovering and connecting to peers sharing a common topic. As new peers are connected, they will be emitted from the swarm as <a class="" href="/pear-docs/references/building-blocks/hyperswarm#swarmonconnection-socket-peerinfo"><code>connection</code></a> events.</p>
<p><code>topic</code> must be a 32-byte Buffer and use a publicly sharable id, typically a Hypercore <code>discoveryKey</code> which we can then link to (join will leak the <code>topic</code> to DHT nodes).</p>
<p><code>options</code> can include:</p>
<table><thead><tr><th style="text-align:center">Property</th><th>Description</th><th>Type</th><th>Default</th></tr></thead><tbody><tr><td style="text-align:center"><strong><code>server</code></strong></td><td>Accept server connections for this topic by self-announcing to the DHT</td><td>Boolean</td><td><code>true</code></td></tr><tr><td style="text-align:center"><strong><code>client</code></strong></td><td>Actively search for and connect to discovered servers</td><td>Boolean</td><td><code>true</code></td></tr></tbody></table>
<blockquote>
<p>Calling <code>swarm.join()</code> makes this core directly discoverable. To ensure that this core remains discoverable, Hyperswarm handles the periodic refresh of the join. For maximum efficiency, fewer joins should be called; if sharing a single Hypercore that links to other Hypercores, only join a <code>topic</code> for the first one.</p>
</blockquote>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="events">Events<a href="#events" class="hash-link" aria-label="Direct link to Events" title="Direct link to Events" translate="no">​</a></h4>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="swarm.onconnection"><strong><code>swarm.on(&#x27;connection&#x27;, (socket, peerInfo) =&gt; {})</code></strong><a href="#swarm.onconnection" class="hash-link" aria-label="Direct link to swarm.onconnection" title="Direct link to swarm.onconnection" translate="no">​</a></h4>
<p>Emitted whenever the swarm connects to a new peer.</p>
<p><code>socket</code> is an end-to-end (Noise) encrypted Duplex stream.</p>
<p><code>peerInfo</code> is a <a class="" href="/pear-docs/references/building-blocks/hyperswarm#peerinfo"><code>PeerInfo</code></a> instance.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="swarm.onupdate"><code>swarm.on(&#x27;update&#x27;, () =&gt; {})</code><a href="#swarm.onupdate" class="hash-link" aria-label="Direct link to swarm.onupdate" title="Direct link to swarm.onupdate" translate="no">​</a></h4>
<p>Emitted when internal values are changed, useful for user interfaces.</p>
<blockquote>
<p>For instance, the &#x27;update&#x27; event is emitted when <code>swarm.connecting</code> or <code>swarm.connections</code> changes.</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="clients-and-servers"><strong>Clients and Servers</strong><a href="#clients-and-servers" class="hash-link" aria-label="Direct link to clients-and-servers" title="Direct link to clients-and-servers" translate="no">​</a></h3>
<p>In Hyperswarm, there are two ways for peers to join the swarm: client mode and server mode. Previously in Hyperswarm v2, these were called &#x27;lookup&#x27; and &#x27;announce&#x27;, but we now think &#x27;client&#x27; and &#x27;server&#x27; are more descriptive.</p>
<p>When user joins a topic as a server, the swarm will start accepting incoming connections from clients (peers that have joined the same topic in client mode). Server mode will announce this user keypair to the DHT so that other peers can discover the user server. When server connections are emitted, they are not associated with a specific topic -- the server only knows it received an incoming connection.</p>
<p>When user joins a topic as a client, the swarm will do a query to discover available servers, and will eagerly connect to them. As with server mode, these connections will be emitted as <code>connection</code> events, but in client mode, they will be associated with the topic (<code>info.topics</code> will be set in the <code>connection</code> event).</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="methods-1">Methods<a href="#methods-1" class="hash-link" aria-label="Direct link to Methods" title="Direct link to Methods" translate="no">​</a></h4>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="swarm.leave"><strong><code>await swarm.leave(topic)</code></strong><a href="#swarm.leave" class="hash-link" aria-label="Direct link to swarm.leave" title="Direct link to swarm.leave" translate="no">​</a></h4>
<p>Stop discovering peers for the given topic.</p>
<p><code>topic</code> must be a 32-byte Buffer</p>
<blockquote>
<p>If a topic was previously joined in server mode, <code>leave</code> will stop announcing the topic on the DHT.</p>
<p>If a topic was previously joined in client mode, <code>leave</code> will stop searching for servers announcing the topic.</p>
</blockquote>
<p><code>leave</code> will <strong>not</strong> close any existing connections.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="swarm.joinpeer"><strong><code>swarm.joinPeer(noisePublicKey)</code></strong><a href="#swarm.joinpeer" class="hash-link" aria-label="Direct link to swarm.joinpeer" title="Direct link to swarm.joinpeer" translate="no">​</a></h4>
<p>Establish a direct connection to a known peer.</p>
<p><code>noisePublicKey</code> must be a 32-byte Buffer</p>
<p>As with the standard <code>join</code> method, <code>joinPeer</code> will ensure that peer connections are reestablished in the event of failures.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="swarm.leavepeer"><strong><code>swarm.leavePeer(noisePublicKey)</code></strong><a href="#swarm.leavepeer" class="hash-link" aria-label="Direct link to swarm.leavepeer" title="Direct link to swarm.leavepeer" translate="no">​</a></h4>
<p>Stops attempting direct connections to a known peer.</p>
<p><code>noisePublicKey</code> must be a 32-byte Buffer</p>
<blockquote>
<p>If a direct connection is already established, that connection will <strong>not</strong> be destroyed by <code>leavePeer</code>.</p>
</blockquote>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="swarm.status"><strong><code>const discovery = swarm.status(topic)</code></strong><a href="#swarm.status" class="hash-link" aria-label="Direct link to swarm.status" title="Direct link to swarm.status" translate="no">​</a></h4>
<p>Gets the <code>PeerDiscovery</code> object associated with the topic, if it exists.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="swarm.listen"><strong><code>await swarm.listen()</code></strong><a href="#swarm.listen" class="hash-link" aria-label="Direct link to swarm.listen" title="Direct link to swarm.listen" translate="no">​</a></h4>
<p>Explicitly starts listening for incoming connections. This will be called internally after the first <code>join</code>, so it rarely needs to be called manually.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="swarm.flush"><strong><code>await swarm.flush()</code></strong><a href="#swarm.flush" class="hash-link" aria-label="Direct link to swarm.flush" title="Direct link to swarm.flush" translate="no">​</a></h4>
<p>Waits for any pending DHT announcements, and for the swarm to connect to any pending peers (peers that have been discovered, but are still in the queue awaiting processing).</p>
<p>Once a <code>flush()</code> has completed, the swarm will have connected to every peer it can discover from the current set of topics it&#x27;s managing.</p>
<blockquote>
<p><code>flush()</code> is not topic-specific, so it will wait for every pending DHT operation and connection to be processed -- it&#x27;s quite heavyweight, so it could take a while. In most cases, it&#x27;s not necessary, as connections are emitted by <code>swarm.on(&#x27;connection&#x27;)</code> immediately after they&#x27;re opened.</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="peerinfo">PeerInfo<a href="#peerinfo" class="hash-link" aria-label="Direct link to PeerInfo" title="Direct link to PeerInfo" translate="no">​</a></h3>
<p><code>swarm.on(&#x27;connection&#x27;, ...)</code> emits a <code>PeerInfo</code> instance whenever a new connection is established.</p>
<p>There is a one-to-one relationship between connections and <code>PeerInfo</code> objects -- if a single peer announces multiple topics, those topics will be multiplexed over a single connection.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="properties-1"><strong>Properties:</strong><a href="#properties-1" class="hash-link" aria-label="Direct link to properties-1" title="Direct link to properties-1" translate="no">​</a></h4>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="peerinfo.publickey"><strong><code>peerInfo.publicKey</code></strong><a href="#peerinfo.publickey" class="hash-link" aria-label="Direct link to peerinfo.publickey" title="Direct link to peerinfo.publickey" translate="no">​</a></h4>
<p>The peer&#x27;s Noise public key.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="peerinfo.topics"><strong><code>peerInfo.topics</code></strong><a href="#peerinfo.topics" class="hash-link" aria-label="Direct link to peerinfo.topics" title="Direct link to peerinfo.topics" translate="no">​</a></h4>
<p>An Array of topics that this Peer is associated with -- <code>topics</code> will only be updated when the Peer is in client mode.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="peerinfo.prioritized"><strong><code>peerInfo.prioritized</code></strong><a href="#peerinfo.prioritized" class="hash-link" aria-label="Direct link to peerinfo.prioritized" title="Direct link to peerinfo.prioritized" translate="no">​</a></h4>
<p>If true, the swarm will rapidly attempt to reconnect to this peer.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="methods-2"><strong>Methods:</strong><a href="#methods-2" class="hash-link" aria-label="Direct link to methods-2" title="Direct link to methods-2" translate="no">​</a></h4>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="peerinfo.ban"><strong><code>peerInfo.ban(banStatus = false)</code></strong><a href="#peerinfo.ban" class="hash-link" aria-label="Direct link to peerinfo.ban" title="Direct link to peerinfo.ban" translate="no">​</a></h4>
<p>Ban or unban the peer. Banning will prevent any future reconnection attempts, but it will <strong>not</strong> close any existing connections.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="peer-discovery">Peer Discovery<a href="#peer-discovery" class="hash-link" aria-label="Direct link to Peer Discovery" title="Direct link to Peer Discovery" translate="no">​</a></h3>
<p><code>swarm.join</code> returns a <code>PeerDiscovery</code> instance which allows for both controlling discovery behavior and responding to lifecycle changes during discovery.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="methods-3">Methods<a href="#methods-3" class="hash-link" aria-label="Direct link to Methods" title="Direct link to Methods" translate="no">​</a></h4>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="discovery.flushed"><strong><code>await discovery.flushed()</code></strong><a href="#discovery.flushed" class="hash-link" aria-label="Direct link to discovery.flushed" title="Direct link to discovery.flushed" translate="no">​</a></h4>
<p>Waits until the topic has been fully announced to the DHT. This method is only relevant in server mode. When <code>flushed()</code> has completed, the server will be available to the network.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="discovery.refresh"><strong><code>await discovery.refresh({ client, server })</code></strong><a href="#discovery.refresh" class="hash-link" aria-label="Direct link to discovery.refresh" title="Direct link to discovery.refresh" translate="no">​</a></h4>
<p>Updates the <code>PeerDiscovery</code> configuration, optionally toggling client and server modes. This will also trigger an immediate re-announce of the topic when the <code>PeerDiscovery</code> is in server mode.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="discovery.destroy"><strong><code>await discovery.destroy()</code></strong><a href="#discovery.destroy" class="hash-link" aria-label="Direct link to discovery.destroy" title="Direct link to discovery.destroy" translate="no">​</a></h4>
<p>Stops discovering peers for the given topic.</p>
<blockquote>
<p>If a topic was previously joined in server mode, <code>leave</code> will stop announcing the topic on the DHT.</p>
<p>If a topic was previously joined in client mode, <code>leave</code> will stop searching for servers announcing the topic.</p>
</blockquote></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/references/building-blocks/hyperswarm.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/pear-docs/references/building-blocks/hyperdrive"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Hyperdrive</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/pear-docs/references/building-blocks/overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Building Blocks Overview</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#installation" class="table-of-contents__link toc-highlight">Installation</a></li><li><a href="#api" class="table-of-contents__link toc-highlight">API</a></li><li><a href="#clients-and-servers" class="table-of-contents__link toc-highlight"><strong>Clients and Servers</strong></a></li><li><a href="#peerinfo" class="table-of-contents__link toc-highlight">PeerInfo</a></li><li><a href="#peer-discovery" class="table-of-contents__link toc-highlight">Peer Discovery</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"></div></footer></div>
</body>
</html>