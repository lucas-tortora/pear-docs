"use strict";(globalThis.webpackChunkpear_docs_docusarus=globalThis.webpackChunkpear_docs_docusarus||[]).push([[2772],{997:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>h,frontMatter:()=>c,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"references/pear/node-compat","title":"Node.js Compatibility with Bare","description":"Bare offers great compatibility with Node.js counterparts.","source":"@site/docs/references/pear/node-compat.md","sourceDirName":"references/pear","slug":"/references/pear/node-compat","permalink":"/pear-docs/references/pear/node-compat","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/references/pear/node-compat.md","tags":[],"version":"current","frontMatter":{},"sidebar":"sidebar","previous":{"title":"Configuration","permalink":"/pear-docs/references/pear/configuration"},"next":{"title":"Pear Overview","permalink":"/pear-docs/references/pear/overview"}}');var o=s(4848),i=s(8453);const c={},t="Node.js Compatibility with Bare",d={},l=[{value:"Currently supported modules",id:"currently-supported-modules",level:2},{value:"Config for the Node.js stdlib",id:"config-for-the-nodejs-stdlib",level:2},{value:"Consuming dependencies that use core Node.js modules",id:"consuming-dependencies-that-use-core-nodejs-modules",level:2},{value:"Consuming dependencies using NPM Aliases",id:"consuming-dependencies-using-npm-aliases",level:3},{value:"Example of using <code>fs</code> in a project using aliases",id:"example-of-using-fs-in-a-project-using-aliases",level:3},{value:"Start a new project",id:"start-a-new-project",level:4},{value:"Consuming dependencies using Import Maps",id:"consuming-dependencies-using-import-maps",level:3},{value:"Example of using <code>fs</code> in a project using import maps",id:"example-of-using-fs-in-a-project-using-import-maps",level:3}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"nodejs-compatibility-with-bare",children:"Node.js Compatibility with Bare"})}),"\n",(0,o.jsx)(n.p,{children:"Bare offers great compatibility with Node.js counterparts.\nMost of the modules and APIs used by developers are covered and supported."}),"\n",(0,o.jsx)(n.h2,{id:"currently-supported-modules",children:"Currently supported modules"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"assert"}),": ",(0,o.jsx)(n.a,{href:"https://github.com/holepunchto/bare-assert",children:(0,o.jsx)(n.code,{children:"bare-assert"})})," (through ",(0,o.jsx)(n.code,{children:"npm:bare-node-assert)"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"buffer"}),": ",(0,o.jsx)(n.a,{href:"https://github.com/holepunchto/bare-buffer",children:(0,o.jsx)(n.code,{children:"bare-buffer"})})," (through ",(0,o.jsx)(n.code,{children:"npm:bare-node-buffer)"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"child_process"}),": ",(0,o.jsx)(n.a,{href:"https://github.com/holepunchto/bare-subprocess",children:(0,o.jsx)(n.code,{children:"bare-subprocess"})})," (through ",(0,o.jsx)(n.code,{children:"npm:bare-node-child-process)"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"console"}),": ",(0,o.jsx)(n.a,{href:"https://github.com/holepunchto/bare-console",children:(0,o.jsx)(n.code,{children:"bare-console"})})," (through ",(0,o.jsx)(n.code,{children:"npm:bare-node-console)"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"crypto"}),": ",(0,o.jsx)(n.a,{href:"https://github.com/holepunchto/bare-crypto",children:(0,o.jsx)(n.code,{children:"bare-crypto"})})," (through ",(0,o.jsx)(n.code,{children:"npm:bare-node-crypto)"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"events"}),": ",(0,o.jsx)(n.a,{href:"https://github.com/holepunchto/bare-events",children:(0,o.jsx)(n.code,{children:"bare-events"})})," (through ",(0,o.jsx)(n.code,{children:"npm:bare-node-events)"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"fs"}),": ",(0,o.jsx)(n.a,{href:"https://github.com/holepunchto/bare-fs",children:(0,o.jsx)(n.code,{children:"bare-fs"})})," (through ",(0,o.jsx)(n.code,{children:"npm:bare-node-fs)"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"http"}),": ",(0,o.jsx)(n.a,{href:"https://github.com/holepunchto/bare-http1",children:(0,o.jsx)(n.code,{children:"bare-http1"})})," (through ",(0,o.jsx)(n.code,{children:"npm:bare-node-http)"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"https"}),": ",(0,o.jsx)(n.a,{href:"https://github.com/holepunchto/bare-https",children:(0,o.jsx)(n.code,{children:"bare-https"})})," (through ",(0,o.jsx)(n.code,{children:"npm:bare-node-https)"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"inspector"}),": ",(0,o.jsx)(n.a,{href:"https://github.com/holepunchto/bare-inspector",children:(0,o.jsx)(n.code,{children:"bare-inspector"})})," (through ",(0,o.jsx)(n.code,{children:"npm:bare-node-inspector)"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"module"}),": ",(0,o.jsx)(n.a,{href:"https://github.com/holepunchto/bare-module",children:(0,o.jsx)(n.code,{children:"bare-module"})})," (through ",(0,o.jsx)(n.code,{children:"npm:bare-node-module)"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"os"}),": ",(0,o.jsx)(n.a,{href:"https://github.com/holepunchto/bare-os",children:(0,o.jsx)(n.code,{children:"bare-os"})})," (through ",(0,o.jsx)(n.code,{children:"npm:bare-node-os)"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"path"}),": ",(0,o.jsx)(n.a,{href:"https://github.com/holepunchto/bare-path",children:(0,o.jsx)(n.code,{children:"bare-path"})})," (through ",(0,o.jsx)(n.code,{children:"npm:bare-node-path)"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"process"}),": ",(0,o.jsx)(n.a,{href:"https://github.com/holepunchto/bare-process",children:(0,o.jsx)(n.code,{children:"bare-process"})})," (through ",(0,o.jsx)(n.code,{children:"npm:bare-node-process)"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"readline"}),": ",(0,o.jsx)(n.a,{href:"https://github.com/holepunchto/bare-readline",children:(0,o.jsx)(n.code,{children:"bare-readline"})})," (through ",(0,o.jsx)(n.code,{children:"npm:bare-node-readline)"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"repl"}),": ",(0,o.jsx)(n.a,{href:"https://github.com/holepunchto/bare-repl",children:(0,o.jsx)(n.code,{children:"bare-repl"})})," (through ",(0,o.jsx)(n.code,{children:"npm:bare-node-repl)"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"stream"}),": ",(0,o.jsx)(n.a,{href:"https://github.com/holepunchto/bare-stream",children:(0,o.jsx)(n.code,{children:"bare-stream"})})," (through ",(0,o.jsx)(n.code,{children:"npm:bare-node-stream)"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"timers"}),": ",(0,o.jsx)(n.a,{href:"https://github.com/holepunchto/bare-timers",children:(0,o.jsx)(n.code,{children:"bare-timers"})})," (through ",(0,o.jsx)(n.code,{children:"npm:bare-node-timers)"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"tls"}),": ",(0,o.jsx)(n.a,{href:"https://github.com/holepunchto/bare-tls",children:(0,o.jsx)(n.code,{children:"bare-tls"})})," (through ",(0,o.jsx)(n.code,{children:"npm:bare-node-tls)"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"tty"}),": ",(0,o.jsx)(n.a,{href:"https://github.com/holepunchto/bare-tty",children:(0,o.jsx)(n.code,{children:"bare-tty"})})," (through ",(0,o.jsx)(n.code,{children:"npm:bare-node-tty)"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"url"}),": ",(0,o.jsx)(n.a,{href:"https://github.com/holepunchto/bare-url",children:(0,o.jsx)(n.code,{children:"bare-url"})})," (through ",(0,o.jsx)(n.code,{children:"npm:bare-node-url)"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"util"}),": ",(0,o.jsx)(n.a,{href:"https://github.com/holepunchto/bare-utils",children:(0,o.jsx)(n.code,{children:"bare-utils"})})," (through ",(0,o.jsx)(n.code,{children:"npm:bare-node-util)"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"worker_threads"}),": ",(0,o.jsx)(n.a,{href:"https://github.com/holepunchto/bare-worker",children:(0,o.jsx)(n.code,{children:"bare-worker"})})," (through ",(0,o.jsx)(n.code,{children:"npm:bare-node-worker-threads)"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"zlib"}),": ",(0,o.jsx)(n.a,{href:"bhttps://github.com/holepunchto/bare-zlib",children:(0,o.jsx)(n.code,{children:"bare-zlib"})})," (through ",(0,o.jsx)(n.code,{children:"npm:bare-node-zlib)"})]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"config-for-the-nodejs-stdlib",children:"Config for the Node.js stdlib"}),"\n",(0,o.jsx)(n.p,{children:"To get the full Node.js compatible layer that Bare currently supports add the following lines to the package.json file."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "dependencies": {\n    "bare-assert": "^1.0.1",\n    "assert": "npm:bare-node-assert",\n    "bare-buffer": "^2.3.0",\n    "buffer": "npm:bare-node-buffer",\n    "bare-subprocess": "^2.0.4",\n    "child_process": "npm:bare-node-child-process",\n    "bare-console": "^4.1.0",\n    "console": "npm:bare-node-console",\n    "bare-crypto": "^1.0.0",\n    "crypto": "npm:bare-node-crypto",\n    "bare-events": "^2.2.0",\n    "events": "npm:bare-node-events",\n    "bare-fs": "^2.1.5",\n    "fs": "npm:bare-node-fs",\n    "bare-http1": "^2.0.3",\n    "http": "npm:bare-node-http",\n    "bare-https": "^1.0.0",\n    "https": "npm:bare-node-https",\n    "bare-inspector": "^1.1.2",\n    "inspector": "npm:bare-node-inspector",\n    "bare-module": "^1.2.5",\n    "module": "npm:bare-node-module",\n    "bare-os": "^2.2.0",\n    "os": "npm:bare-node-os",\n    "bare-path": "^2.1.0",\n    "path": "npm:bare-node-path",\n    "bare-process": "^1.3.0",\n    "process": "npm:bare-node-process",\n    "bare-readline": "^1.0.0",\n    "readline": "npm:bare-node-readline",\n    "bare-repl": "^1.0.3",\n    "repl": "npm:bare-node-repl",\n    "bare-stream": "^1.0.0",\n    "stream": "npm:bare-node-stream",\n    "bare-timers" : "^1.0.0",\n    "timers": "npm:bare-node-timers",\n    "bare-tls": "^1.0.0",\n    "tls": "npm:bare-node-tls",\n    "bare-tty": "^3.2.0",\n    "tty": "npm:bare-node-tty",\n    "bare-url": "^1.0.7",\n    "url": "npm:bare-node-url",\n    "bare-utils": "^1.0.0",\n    "util": "npm:bare-node-util",\n    "bare-worker": "^1.0.0",\n    "worker_threads": "npm:bare-node-worker-threads",\n    "bare-zlib": "^1.0.0",\n    "zlib": "npm:bare-node-zlib"\n  }\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"consuming-dependencies-that-use-core-nodejs-modules",children:"Consuming dependencies that use core Node.js modules"}),"\n",(0,o.jsxs)(n.p,{children:["If the project dependencies use core ",(0,o.jsx)(n.a,{href:"https://nodejs.org/en/download",children:"Node.js"})," modules, use ",(0,o.jsx)(n.a,{href:"./nodejs-compatibility-with-bare.md#consuming-dependencies-using-npm-aliases",children:"NPM aliases"})," or ",(0,o.jsx)(n.a,{href:"./nodejs-compatibility-with-bare.md#consuming-dependencies-using-import-maps",children:"import maps"}),"  to consume the Bare version of those modules."]}),"\n",(0,o.jsx)(n.h3,{id:"consuming-dependencies-using-npm-aliases",children:"Consuming dependencies using NPM Aliases"}),"\n",(0,o.jsx)(n.p,{children:"NPM aliasing is a feature that allows developers to define custom names, or aliases, for their dependencies. This enables them to use a more intuitive or project-specific naming convention instead of relying on the package\u2019s official name."}),"\n",(0,o.jsxs)(n.p,{children:["In your project\u2019s ",(0,o.jsx)(n.code,{children:"package.json"})," file, use the ",(0,o.jsx)(n.code,{children:"alias"})," field to specify package aliases. For example:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "dependencies": {\n    "my-package": "npm:actual-package@1.0.0"\n  }\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:"After defining aliases, install the dependencies as usual:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npm install\n"})}),"\n",(0,o.jsx)(n.p,{children:"Then, in the code import the aliased package:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"// Instead of using the name of the package, use the alias\nconst myPackage = require('my-package');\n"})}),"\n",(0,o.jsxs)(n.h3,{id:"example-of-using-fs-in-a-project-using-aliases",children:["Example of using ",(0,o.jsx)(n.code,{children:"fs"})," in a project using aliases"]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["Make sure ",(0,o.jsx)(n.a,{href:"https://nodejs.org/en/download",children:"Node.js"})," is installed on your system. This can be checked by running ",(0,o.jsx)(n.code,{children:"node -v"})," in the terminal."]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"start-a-new-project",children:"Start a new project"}),"\n",(0,o.jsx)(n.p,{children:"Init a new terminal project."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"mkdir test-fs\ncd test-fs\npear init --yes --type=terminal\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Replace the contents of ",(0,o.jsx)(n.code,{children:"index.js"})," with the following:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"import * as fs from 'node:fs';\n\nasync function test() {\n  try {\n    await fs.promises.writeFile('test.txt', `Hello ${global.Bare ? 'Bare' : 'Node'}`);\n    const content = await fs.promises.readFile('test.txt', 'utf8');\n    console.log('File content:', content);\n    await fs.promises.unlink('test.txt');\n    console.log('Test successful!');\n  } catch (error) {\n    console.error('Test failed:', error);\n  }\n}\n\ntest();\n"})}),"\n",(0,o.jsxs)(n.p,{children:["This will create a file called ",(0,o.jsx)(n.code,{children:"test.txt"})," and write a string to it. It will then read the file and log the content to the console."]}),"\n",(0,o.jsx)(n.p,{children:"Now run the file using Node.js."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"node index.js\n"})}),"\n",(0,o.jsx)(n.p,{children:"This should output the following."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"File content: Hello Node \nTest successful!\n"})}),"\n",(0,o.jsxs)(n.p,{children:["If we run the same project using Bare, it will fail with the ",(0,o.jsx)(n.code,{children:"MODULE_NOT_FOUND"})," error."]}),"\n",(0,o.jsxs)(n.p,{children:["Now to make it compatible with Bare, we will create an alias for ",(0,o.jsx)(n.code,{children:"fs"})," in our project and install the respective Bare package to make it work again. In this case it's ",(0,o.jsx)(n.a,{href:"https://github.com/holepunchto/bare-fs",children:"bare-fs"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["Add the following lines to the ",(0,o.jsx)(n.code,{children:"package.json"})," file."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "dependencies": {\n    "bare-fs": "^2.1.5",\n    "fs": "npm:bare-node-fs"\n  }\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["This installs ",(0,o.jsx)(n.code,{children:"bare-fs"})," newer than ",(0,o.jsx)(n.code,{children:"^2.1.5"}),".\nThen, adds alias ",(0,o.jsx)(n.code,{children:"fs"})," to the wrapper ",(0,o.jsx)(n.code,{children:"npm:bare-node-fs"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["The only thing the wrapper does is ",(0,o.jsx)(n.code,{children:"module.exports = require('bare-fs')"})," and at version ",(0,o.jsx)(n.code,{children:"*"}),",\nmeaning the version that is specified is used."]}),"\n",(0,o.jsxs)(n.p,{children:["Using the wrapper saves space as npm will only include ",(0,o.jsx)(n.code,{children:"bare-fs"})," once if something else installs it."]}),"\n",(0,o.jsx)(n.p,{children:"Now install the dependencies."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npm install\n"})}),"\n",(0,o.jsx)(n.p,{children:"Now run the project using Bare."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"bare index.js\n"})}),"\n",(0,o.jsx)(n.p,{children:"This should output the following."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"File content: Hello Bare\nTest successful!\n"})}),"\n",(0,o.jsx)(n.h3,{id:"consuming-dependencies-using-import-maps",children:"Consuming dependencies using Import Maps"}),"\n",(0,o.jsxs)(n.p,{children:["When writing a module that uses ",(0,o.jsx)(n.code,{children:"fs"})," the mapping can be specified directly in the module instead of relying on the compatible. This can be achieved using an 'import map'."]}),"\n",(0,o.jsxs)(n.p,{children:["For example ",(0,o.jsx)(n.a,{href:"https://github.com/holepunchto/localdrive",children:"Localdrive"})," uses ",(0,o.jsx)(n.code,{children:"fs"})," and to work in both Bare and Node.js it adds the following import map to the ",(0,o.jsx)(n.code,{children:"package.json"})," file."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "imports": {\n    "fs": {\n      "bare": "bare-fs",\n      "default": "fs"\n    },\n    "fs/*": {\n      "bare": "bare-fs/*",\n      "default": "fs/*"\n    }\n  },\n  "optionalDependencies": {\n    "bare-fs": "^2.1.5"\n  }\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["Let's take the ",(0,o.jsx)(n.code,{children:"fs"})," example and use import maps instead of aliases."]}),"\n",(0,o.jsxs)(n.h3,{id:"example-of-using-fs-in-a-project-using-import-maps",children:["Example of using ",(0,o.jsx)(n.code,{children:"fs"})," in a project using import maps"]}),"\n",(0,o.jsx)(n.p,{children:"Start a new terminal project"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"mkdir test-fs\ncd test-fs\npear init --yes --type=terminal\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Replace contents of ",(0,o.jsx)(n.code,{children:"index.js"})," with the code from the NPM aliases ",(0,o.jsx)(n.a,{href:"./nodejs-compatibility-with-bare.md#example-of-using-fs-in-a-project-using-aliases",children:"example"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"Change the import statement at the top:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"import * as fs from 'fs';\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Add the following fields to the ",(0,o.jsx)(n.code,{children:"package.json"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "imports": {\n    "fs": {\n      "bare": "bare-fs",\n      "default": "fs"\n    }\n  },\n  "optionalDependencies": {\n    "bare-fs": "^2.1.5"\n  }\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:"Install the dependencies:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npm install\n"})}),"\n",(0,o.jsx)(n.p,{children:"Now run the file using Node.js."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"node index.js\n"})}),"\n",(0,o.jsx)(n.p,{children:"This should output the following."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"File content: Hello Node \nTest successful!\n"})}),"\n",(0,o.jsx)(n.p,{children:"Run the same file using Bare"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"bare index.js\n"})}),"\n",(0,o.jsx)(n.p,{children:"It should log the following output:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"File content: Hello Bare \nTest successful!\n"})}),"\n",(0,o.jsxs)(n.p,{children:["This way the module is in full control of exactly which version of ",(0,o.jsx)(n.code,{children:"fs"})," is bound to Bare."]}),"\n",(0,o.jsx)(n.p,{children:"This is the best option, as it provides the best of both worlds. Node.js compatibility, but with full control of the dependencies."})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>t});var r=s(6540);const o={},i=r.createContext(o);function c(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);