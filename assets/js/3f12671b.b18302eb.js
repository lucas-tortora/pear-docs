"use strict";(globalThis.webpackChunkpear_docs_docusarus=globalThis.webpackChunkpear_docs_docusarus||[]).push([[3797],{5278:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"about-pear/architecture/index","title":"Pear Architecture","description":"The following sections will give you an overview of how Pear is built on top of Bare and the building blocks, helpers and tools you can use to build serverless peer-to-pear applications.","source":"@site/docs/about-pear/architecture/index.md","sourceDirName":"about-pear/architecture","slug":"/about-pear/architecture/","permalink":"/pear-docs/about-pear/architecture/","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/about-pear/architecture/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"sidebar","previous":{"title":"What is Pear?","permalink":"/pear-docs/about-pear/what-is-pear"},"next":{"title":"Building Blocks","permalink":"/pear-docs/about-pear/architecture/building-blocks"}}');var i=s(4848),n=s(8453);const l={},d="Pear Architecture",o={},a=[{value:"Bare Runtime",id:"bare-runtime",level:2},{value:"Pear Runtime",id:"pear-runtime",level:2},{value:"Building Blocks, Helpers and Tools",id:"building-blocks-helpers-and-tools",level:2},{value:"Building blocks",id:"building-blocks",level:3},{value:"Helpers",id:"helpers",level:3},{value:"Tools",id:"tools",level:3}];function c(e){const r={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"pear-architecture",children:"Pear Architecture"})}),"\n",(0,i.jsxs)(r.p,{children:["The following sections will give you an overview of how ",(0,i.jsx)(r.a,{href:"#pear-runtime",children:"Pear"})," is built on top of ",(0,i.jsx)(r.a,{href:"#bare-runtime",children:"Bare"})," and the ",(0,i.jsx)(r.a,{href:"#building-blocks",children:"building blocks"}),", ",(0,i.jsx)(r.a,{href:"#helpers",children:"helpers"})," and ",(0,i.jsx)(r.a,{href:"#tools",children:"tools"})," you can use to build serverless peer-to-pear applications."]}),"\n",(0,i.jsx)(r.mermaid,{value:"graph TD\n    A[JavaScript Engine V8] --\x3e B[libjs & libuv]\n    B --\x3e C[Bare Runtime]\n    C --\x3e D[Pear Runtime]\n    D --\x3e E[Building Blocks]\n    E --\x3e F[Helpers]\n    E --\x3e G[Tools]\n\n\n    style A fill:#ffd580,stroke:#333,stroke-width:1px, color:#000;\n    style B fill:#ffe5b4,stroke:#333,stroke-width:1px, color:#000;\n    style C fill:#b4e7ff,stroke:#333,stroke-width:1px, color:#000;\n    style D fill:#b9ffc5,stroke:#333,stroke-width:1px, color:#000;\n    style E fill:#e2ffe2,stroke:#333,stroke-width:1px, color:#000;\n    style F fill:#f0e5ff,stroke:#333,stroke-width:1px, color:#000;\n    style G fill:#ffe2f3,stroke:#333,stroke-width:1px, color:#000;"}),"\n",(0,i.jsx)(r.h2,{id:"bare-runtime",children:"Bare Runtime"}),"\n",(0,i.jsxs)(r.p,{children:["The ",(0,i.jsx)(r.a,{href:"#pear-runtime",children:"Pear Runtime"})," uses the ",(0,i.jsx)(r.a,{href:"../references/bare/overview.mdx",children:"Bare"})," JavaScript runtime, which is a small and modular JavaScript runtime for desktop and mobile. Bare is a small modular Javasript runtime for both mobile and desktop apps. Like Node.js, it provides an asynchronous, event-driven architecture for writing applications in the lingua franca of modern software. Unlike Node.js, it makes embedding and cross-device support core use cases, aiming to run just as well on your phone as on your laptop. The result is a runtime ideal for networked, peer-to-peer applications that can run on a wide selection of hardware."]}),"\n",(0,i.jsxs)(r.p,{children:["Bare is built on top of ",(0,i.jsx)(r.a,{href:"https://github.com/holepunchto/libjs",children:"holepunchto/libjs"}),", which provides low-level bindings to V8 in an engine independent manner, and ",(0,i.jsx)(r.a,{href:"https://github.com/libuv/libuv",children:"libuv/libuv"}),", which provides an asynchronous I/O event loop. Bare itself only adds a few missing pieces on top to support a wider ecosystem of modules:"]}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsx)(r.li,{children:"A module system supporting both CJS and ESM with bidirectional interoperability between the two."}),"\n",(0,i.jsx)(r.li,{children:"A native addon system supporting both statically and dynamically linked addons."}),"\n",(0,i.jsx)(r.li,{children:"Light-weight thread support with synchronous joins and shared array buffer support."}),"\n"]}),"\n",(0,i.jsxs)(r.p,{children:["Everything else if left to userland modules to implement using these primitives, keeping the runtime itself succint and ",(0,i.jsx)(r.em,{children:"bare"}),". By abstracting over both the underlying JavaScript engine using ",(0,i.jsx)(r.code,{children:"libjs"})," and platform I/O operations using ",(0,i.jsx)(r.code,{children:"libuv"}),", Bare allows module authors to implement native addons that can run on any JavaScript engine that implements the ",(0,i.jsx)(r.code,{children:"libjs"})," ABI and any system that ",(0,i.jsx)(r.code,{children:"libuv"})," supports."]}),"\n",(0,i.jsx)(r.admonition,{title:"References",type:"info",children:(0,i.jsxs)(r.p,{children:["You can find implementation, usage and API details in the ",(0,i.jsx)(r.a,{href:"../references/bare/overview.mdx",children:"Bare References"})," section."]})}),"\n",(0,i.jsx)(r.h2,{id:"pear-runtime",children:"Pear Runtime"}),"\n",(0,i.jsxs)(r.p,{children:["Though the Pear Runtime offers direct access to its base ",(0,i.jsx)(r.a,{href:"../references/pear/api.md",children:"API"}),", in most cases you will start, publish and share your app through its ",(0,i.jsx)(r.a,{href:"../references/pear/cli.md",children:"CLI"})," and develop the app using its handy ",(0,i.jsx)(r.a,{href:"#building-blocks",children:"building blocks"}),", ",(0,i.jsx)(r.a,{href:"#helpers",children:"helpers"})," and ",(0,i.jsx)(r.a,{href:"#tools",children:"tools"}),"."]}),"\n",(0,i.jsx)(r.admonition,{title:"References",type:"info",children:(0,i.jsxs)(r.p,{children:["You can find implementation, usage and API details in the ",(0,i.jsx)(r.a,{href:"../references/pear/overview.mdx",children:"Pear References"})," section."]})}),"\n",(0,i.jsx)(r.h2,{id:"building-blocks-helpers-and-tools",children:"Building Blocks, Helpers and Tools"}),"\n",(0,i.jsxs)(r.p,{children:["Though you can actually interact directly with the ",(0,i.jsx)(r.a,{href:"../references/pear/api.md",children:"Pear API"}),", for most use cases, it'll be more convenient to use the ",(0,i.jsx)(r.a,{href:"#building-blocks",children:"building blocks"}),". You can also find handy ",(0,i.jsx)(r.a,{href:"#helpers",children:"helpers"})," that simplify interacting with the building blocks, and ",(0,i.jsx)(r.a,{href:"#tools",children:"tools"})," designed to streamline app development."]}),"\n",(0,i.jsx)(r.h3,{id:"building-blocks",children:"Building blocks"}),"\n",(0,i.jsx)(r.p,{children:"The essential building blocks for building powerful P2P applications using Pear."}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Name"}),(0,i.jsx)(r.th,{children:"Description"}),(0,i.jsx)(r.th,{children:"Stability"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"https://docs.pears.com/building-blocks/hypercore",children:"Hypercore"})}),(0,i.jsx)(r.td,{children:"A distributed, secure append-only log for creating fast and scalable applications without a backend, as it is entirely P2P."}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"stable"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"https://docs.pears.com/building-blocks/hyperbee",children:"Hyperbee"})}),(0,i.jsx)(r.td,{children:"An append-only B-tree running on a Hypercore. Allows sorted iteration and more."}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"stable"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"https://docs.pears.com/building-blocks/hyperdrive",children:"Hyperdrive"})}),(0,i.jsx)(r.td,{children:"A secure, real-time distributed file system that simplifies P2P file sharing and provides an efficient way to store and access data."}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"stable"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"https://docs.pears.com/building-blocks/autobase",children:"Autobase"})}),(0,i.jsx)(r.td,{children:'A "virtual Hypercore" layer over many Hypercores owned by many different peers.'}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"stable"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"https://docs.pears.com/building-blocks/hyperdht",children:"Hyperdht"})}),(0,i.jsx)(r.td,{children:"The Distributed Hash Table (DHT) powering Hyperswarm."}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"stable"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"https://docs.pears.com/building-blocks/hyperswarm",children:"Hyperswarm"})}),(0,i.jsx)(r.td,{children:'A high-level API for finding and connecting to peers who are interested in a "topic".'}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"stable"})})]})]})]}),"\n",(0,i.jsx)(r.h3,{id:"helpers",children:"Helpers"}),"\n",(0,i.jsx)(r.p,{children:"Helper modules can be used together with the building blocks to create cutting-edge P2P tools and applications."}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Name"}),(0,i.jsx)(r.th,{children:"Description"}),(0,i.jsx)(r.th,{children:"Stability"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"https://docs.pears.com/helpers/corestore",children:"Corestore"})}),(0,i.jsx)(r.td,{children:"A Hypercore factory designed to facilitate the management of sizable named Hypercore collections."}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"stable"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"https://docs.pears.com/helpers/localdrive",children:"Localdrive"})}),(0,i.jsx)(r.td,{children:"A file system interoperable with Hyperdrive."}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"stable"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"https://docs.pears.com/helpers/mirrordrive",children:"Mirrordrive"})}),(0,i.jsxs)(r.td,{children:["Mirror a ",(0,i.jsx)(r.a,{href:"https://docs.pears.com/building-blocks/hyperdrive",children:"Hyperdrive"})," or a ",(0,i.jsx)(r.a,{href:"https://docs.pears.com/helpers/localdrive",children:"Localdrive"})," into another one."]}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"stable"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"https://docs.pears.com/helpers/secretstream",children:"Secretstream"})}),(0,i.jsx)(r.td,{children:"SecretStream is used to securely create connections between two peers in Hyperswarm."}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"stable"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"https://docs.pears.com/helpers/compact-encoding",children:"Compact-encoding"})}),(0,i.jsx)(r.td,{children:"A series of binary encoding schemes for building fast and small parsers and serializers. We use this in Keet to store chat messages and in Hypercore's replication protocol."}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"stable"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"https://docs.pears.com/helpers/protomux",children:"Protomux"})}),(0,i.jsx)(r.td,{children:"Multiplex multiple message oriented protocols over a stream."}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"stable"})})]})]})]}),"\n",(0,i.jsx)(r.h3,{id:"tools",children:"Tools"}),"\n",(0,i.jsx)(r.p,{children:"The following tools are used extensively employed in the day-to-day development and operation of applications built on Pear."}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Name"}),(0,i.jsx)(r.th,{children:"Description"}),(0,i.jsx)(r.th,{children:"Stability"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"https://docs.pears.com/tools/hypershell",children:"Hypershell"})}),(0,i.jsx)(r.td,{children:"A CLI to create and connect to P2P E2E encrypted shells."}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"stable"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"https://docs.pears.com/tools/hypertele",children:"Hypertele"})}),(0,i.jsxs)(r.td,{children:["A swiss-knife proxy powered by ",(0,i.jsx)(r.a,{href:"https://docs.pears.com/building-blocks/hyperdht",children:"HyperDHT"}),"."]}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"stable"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"https://docs.pears.com/tools/hyperbeam",children:"Hyperbeam"})}),(0,i.jsx)(r.td,{children:"A one-to-one and end-to-end encrypted internet pipe."}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"stable"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"https://docs.pears.com/tools/hyperssh",children:"Hyperssh"})}),(0,i.jsxs)(r.td,{children:["A CLI to run SSH over the ",(0,i.jsx)(r.a,{href:"https://docs.pears.com/building-blocks/hyperdht",children:"HyperDHT"}),"."]}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"stable"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"https://docs.pears.com/tools/drives",children:"Drives"})}),(0,i.jsxs)(r.td,{children:["CLI to download, seed, and mirror a ",(0,i.jsx)(r.a,{href:"https://docs.pears.com/building-blocks/hyperdrive",children:"Hyperdrive"})," or a ",(0,i.jsx)(r.a,{href:"https://docs.pears.com/helpers/localdrive",children:"Localdrive"}),"."]}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"stable"})})]})]})]})]})}function h(e={}){const{wrapper:r}={...(0,n.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,r,s)=>{s.d(r,{R:()=>l,x:()=>d});var t=s(6540);const i={},n=t.createContext(i);function l(e){const r=t.useContext(n);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(n.Provider,{value:r},e.children)}}}]);