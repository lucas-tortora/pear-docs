"use strict";(globalThis.webpackChunkpear_docs_docusarus=globalThis.webpackChunkpear_docs_docusarus||[]).push([[9696],{1530:(e,n,a)=>{a.d(n,{A:()=>s});const s=a.p+"assets/images/chat-app-5b-0716b2fe902d44a0af878732853e25ba.png"},1626:(e,n,a)=>{a.d(n,{A:()=>s});const s=a.p+"assets/images/chat-app-4a-667c4a1881169d849e4eb4af2b9b2139.png"},1793:(e,n,a)=>{a.d(n,{A:()=>s});const s=a.p+"assets/images/chat-app-4b-675424520afc586b89905cf40437284c.png"},3140:(e,n,a)=>{a.d(n,{A:()=>s});const s=a.p+"assets/images/chat-app-3-16b226301875232e4cda83a0dead8909.png"},3477:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"getting-started/simple-chat-app","title":"Create a Pear Desktop Application","description":"If you haven\'t done so already, please set up your first Pear Application, as this guide builds on that.","source":"@site/docs/getting-started/simple-chat-app.md","sourceDirName":"getting-started","slug":"/getting-started/simple-chat-app","permalink":"/pear-docs/getting-started/simple-chat-app","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/getting-started/simple-chat-app.md","tags":[],"version":"current","frontMatter":{},"sidebar":"sidebar","previous":{"title":"Start and Configure a Pear Desktop Project","permalink":"/pear-docs/getting-started/setup"},"next":{"title":"Release a Pear Application","permalink":"/pear-docs/getting-started/release"}}');var t=a(4848),r=a(8453);const i={},o="Create a Pear Desktop Application",c={},d=[{value:"1. Update HTML and CSS",id:"1-update-html-and-css",level:2},{value:"2. Install Dependencies",id:"2-install-dependencies",level:2},{value:"Dev Dependencies",id:"dev-dependencies",level:3},{value:"Used Modules",id:"used-modules",level:3},{value:"3. Code Your App",id:"3-code-your-app",level:2},{value:"Add Documentation and Code Completion",id:"add-documentation-and-code-completion",level:3},{value:"Add Globals and Imports",id:"add-globals-and-imports",level:3},{value:"Create a HyperSwarm Instance",id:"create-a-hyperswarm-instance",level:3},{value:"Manage Teardown and Updates",id:"manage-teardown-and-updates",level:3},{value:"Teardown",id:"teardown",level:4},{value:"Updates",id:"updates",level:4},{value:"Handle Incoming Connections",id:"handle-incoming-connections",level:3},{value:"Update Peer Count On Swarm Changes",id:"update-peer-count-on-swarm-changes",level:3},{value:"Create DOM Event Listeners",id:"create-dom-event-listeners",level:3},{value:"Event Functions",id:"event-functions",level:3},{value:"<code>createChatRoom</code>",id:"createchatroom",level:4},{value:"<code>joinChatRoom</code>",id:"joinchatroom",level:4},{value:"<code>JoinSwarm</code>",id:"joinswarm",level:4},{value:"<code>sendMessage</code>",id:"sendmessage",level:4},{value:"<code>onMessageAdded</code>",id:"onmessageadded",level:4},{value:"4. Chat",id:"4-chat",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"create-a-pear-desktop-application",children:"Create a Pear Desktop Application"})}),"\n",(0,t.jsxs)(n.p,{children:["If you haven't done so already, please ",(0,t.jsx)(n.a,{href:"/pear-docs/getting-started/setup",children:"set up your first Pear Application"}),", as this guide builds on that."]}),"\n",(0,t.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/y2G97xz78gU?si=E8UmXSS2WWYtIV1V",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:!0}),"\n",(0,t.jsx)(n.h2,{id:"1-update-html-and-css",children:"1. Update HTML and CSS"}),"\n",(0,t.jsx)(n.admonition,{title:"Frontend Frameworks",type:"tip",children:(0,t.jsx)(n.p,{children:"You can use any frontend framework alongside Pear."})}),"\n",(0,t.jsxs)(n.p,{children:["So far, you've only ",(0,t.jsxs)(n.a,{href:"/pear-docs/getting-started/setup#ensure-live-reload-works",children:["updated the HTML to say ",(0,t.jsx)(n.code,{children:"Hello World!"})," in the previous example"]}),".\nSince this tutorial aims to create a chat application, you'll need to update the HTML and CSS to define your app's layout by updating the ",(0,t.jsx)(n.code,{children:"index.html"})," file:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",metastring:"reference",children:"https://github.com/lucas-tortora/pear-chat-app/blob/main/index.html\n"})}),"\n",(0,t.jsxs)(n.p,{children:["If you ",(0,t.jsxs)(n.a,{href:"/pear-docs/getting-started/setup#3-optional-enable-automatic-reload",children:["enabled automatic reloading in your ",(0,t.jsx)(n.code,{children:"app.js"})," file"]}),", and your app is running, you should see your changes."]}),"\n",(0,t.jsxs)(n.p,{children:["If not, stop your app and restart it by calling ",(0,t.jsx)(n.code,{children:"pear run --dev ."}),"."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Layout of the app",src:a(3140).A+"",width:"1400",height:"800"})}),"\n",(0,t.jsxs)(n.admonition,{title:"Pear Ctrl",type:"note",children:[(0,t.jsxs)(n.p,{children:["To make the ",(0,t.jsx)(n.code,{children:"<pear-ctrl>"})," element draggable in Pear applications, wrap it in another element that uses the following CSS property:"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-css",children:"-webkit-app-region: drag;\n"})}),(0,t.jsx)(n.p,{children:"This non-standard CSS property tells the application that this element should act as a draggable region for the entire window."})]}),"\n",(0,t.jsx)(n.h2,{id:"2-install-dependencies",children:"2. Install Dependencies"}),"\n",(0,t.jsx)(n.admonition,{title:"Close Your App",type:"warning",children:(0,t.jsx)(n.p,{children:"Pear will throw an error if you install dependencies while your app is running. Please close it and restart the app after installing."})}),"\n",(0,t.jsx)(n.h3,{id:"dev-dependencies",children:"Dev Dependencies"}),"\n",(0,t.jsxs)(n.p,{children:["The simple chat app in this tutorial requires the following dependencies, which are already required in your ",(0,t.jsx)(n.code,{children:"package.json"})," file:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",metastring:"reference",children:"https://github.com/lucas-tortora/pear-chat-app/blob/main/package.json#L19-L22\n"})}),"\n",(0,t.jsx)(n.p,{children:"You can install them by running the following command:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install\n"})}),"\n",(0,t.jsx)(n.p,{children:"This will install the following:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/holepunchto/pear-interface",children:"pear-interface"})," for documentation and auto-completion inside editor."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/holepunchto/brittle",children:"brittle"})," a TAP framework for testing."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"used-modules",children:"Used Modules"}),"\n",(0,t.jsx)(n.p,{children:"The app uses these modules:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://www.npmjs.com/package/hyperswarm",children:"hyperswarm"}),' to connect peers on a "topic".']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://www.npmjs.com/package/hypercore-crypto",children:"hypercore-crypto"})," for basic cryptography."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://www.npmjs.com/package/b4a",children:"b4a"})," to manipulate buffers."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Install the dependencies with:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install hyperswarm hypercore-crypto b4a\n"})}),"\n",(0,t.jsxs)(n.p,{children:["If you have installed them correctly, you should now see them in your ",(0,t.jsx)(n.code,{children:"package.json"})," file under ",(0,t.jsx)(n.code,{children:"dependencies"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:"reference",children:"https://github.com/lucas-tortora/pear-chat-app/blob/main/package.json#L23-L27\n"})}),"\n",(0,t.jsx)(n.h2,{id:"3-code-your-app",children:"3. Code Your App"}),"\n",(0,t.jsxs)(n.p,{children:["Once you've set up your ",(0,t.jsx)(n.a,{href:"#1-update-html-and-css",children:"HTML and CSS"})," and ",(0,t.jsx)(n.a,{href:"#2-install-dependencies",children:"installed any necessary dependencies"})," you can start to add the logic for your app in the ",(0,t.jsx)(n.code,{children:"app.js"})," file."]}),"\n",(0,t.jsx)(n.h3,{id:"add-documentation-and-code-completion",children:"Add Documentation and Code Completion"}),"\n",(0,t.jsxs)(n.p,{children:["The first thing you should do, is add a ",(0,t.jsx)(n.code,{children:"@typedef"})," to import the ",(0,t.jsx)(n.code,{children:"pear-interface"}),". This will help out by adding interactive documentation and code-completion in your editor:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:"reference",children:"https://github.com/lucas-tortora/pear-chat-app/blob/main/app.js#L3\n"})}),"\n",(0,t.jsx)(n.h3,{id:"add-globals-and-imports",children:"Add Globals and Imports"}),"\n",(0,t.jsxs)(n.p,{children:["Next, you should declare a global ",(0,t.jsx)(n.code,{children:"Pear"})," object and destructure ",(0,t.jsx)(n.code,{children:"teardown"})," and ",(0,t.jsx)(n.code,{children:"updates"})," from the global ",(0,t.jsx)(n.code,{children:"Pear"})," API, and import the following modules that will be used by the app:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/holepunchto/hyperswarm",children:(0,t.jsx)(n.code,{children:"hyperswarm"})})," for P2P networking."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/holepunchto/hypercore-crypto",children:(0,t.jsx)(n.code,{children:"hypercore-crypto"})})," for random bytes"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://www.npmjs.com/package/b4a",children:(0,t.jsx)(n.code,{children:"b4a"})})," for buffer conversions."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:"reference",children:"https://github.com/lucas-tortora/pear-chat-app/blob/main/app.js#L2-L9\n"})}),"\n",(0,t.jsx)(n.h3,{id:"create-a-hyperswarm-instance",children:"Create a HyperSwarm Instance"}),"\n",(0,t.jsxs)(n.p,{children:["The first thing you should do in your chat app is create a ",(0,t.jsx)(n.code,{children:"HyperSwarm"})," instance called ",(0,t.jsx)(n.code,{children:"swarm"}),", that will manage peer discovery and connections:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:"reference",children:"https://github.com/lucas-tortora/pear-chat-app/blob/main/app.js#L10-L11\n"})}),"\n",(0,t.jsx)(n.h3,{id:"manage-teardown-and-updates",children:"Manage Teardown and Updates"}),"\n",(0,t.jsxs)(n.p,{children:["You can now tell your ",(0,t.jsx)(n.code,{children:"HyperSwarm"})," instance how you want it to handle ",(0,t.jsx)(n.a,{href:"/pear-docs/references/pear/api#pearupdateslistener-async-functionfunction--streamxreadable",children:(0,t.jsx)(n.code,{children:"updates"})}),", and the ",(0,t.jsx)(n.a,{href:"/pear-docs/references/pear/api#pearteardownfn-async-functionfunction",children:(0,t.jsx)(n.code,{children:"teardown"})})," event."]}),"\n",(0,t.jsx)(n.h4,{id:"teardown",children:"Teardown"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.a,{href:"/pear-docs/references/pear/api#pearteardownfn-async-functionfunction",children:(0,t.jsx)(n.code,{children:"teardown"})}),' function manages application cleanup handlers. In a nutshell, it indicates what will happen when the application begins to unload. In our case, you should add the following line that will "unannounce", i.e. destroy, the chat room. This is not strictly necessary, but it helps to keep the distributed hash table (DHT) small.']}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:"reference",children:"https://github.com/lucas-tortora/pear-chat-app/blob/main/app.js#L15\n"})}),"\n",(0,t.jsx)(n.h4,{id:"updates",children:"Updates"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.a,{href:"/pear-docs/references/pear/api#pearupdateslistener-async-functionfunction--streamxreadable",children:(0,t.jsx)(n.code,{children:"updates"})})," listener function is called for every incoming ",(0,t.jsx)(n.code,{children:"update"})," object. In this case, you should add a call to ",(0,t.jsx)(n.a,{href:"../references/pear/api.mdx#pearreload",children:(0,t.jsx)(n.code,{children:"Pear.reload()"})})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:"reference",children:"https://github.com/lucas-tortora/pear-chat-app/blob/main/app.js#L19\n"})}),"\n",(0,t.jsx)(n.h3,{id:"handle-incoming-connections",children:"Handle Incoming Connections"}),"\n",(0,t.jsxs)(n.p,{children:["You should now tell your ",(0,t.jsx)(n.code,{children:"swarm"})," instance how to handle incoming connections. The following code will run when a new peer connects. It will:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Creater a ",(0,t.jsx)(n.code,{children:"name"})," for the peer using the first 6 hex characters of its public key."]}),"\n",(0,t.jsxs)(n.li,{children:["Listen for ",(0,t.jsx)(n.code,{children:"data"})," events and call the ",(0,t.jsx)(n.code,{children:"onMessageAdded"})," for each."]}),"\n",(0,t.jsxs)(n.li,{children:["Listen for ",(0,t.jsx)(n.code,{children:"errors"})," and log them to the console."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:"reference",children:"https://github.com/lucas-tortora/pear-chat-app/blob/main/app.js#L22-L27\n"})}),"\n",(0,t.jsx)(n.h3,{id:"update-peer-count-on-swarm-changes",children:"Update Peer Count On Swarm Changes"}),"\n",(0,t.jsxs)(n.p,{children:["You can also add a peer count by telling your ",(0,t.jsx)(n.code,{children:"swarm"})," instance how it should have a new connection event using the ",(0,t.jsx)(n.a,{href:"../references/building-blocks/hyperswarm#events",children:"swarm.on()"})," function and passing ",(0,t.jsx)(n.code,{children:"connection"})," as the event.\nThis snippet will update the current number of active connections into the ",(0,t.jsx)(n.code,{children:"#peers-count"})," DOM element."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:"reference",children:"https://github.com/lucas-tortora/pear-chat-app/blob/main/app.js#L30-L32\n"})}),"\n",(0,t.jsx)(n.h3,{id:"create-dom-event-listeners",children:"Create DOM Event Listeners"}),"\n",(0,t.jsxs)(n.p,{children:["The buttons you created in ",(0,t.jsx)(n.a,{href:"#1-update-html-and-css",children:"your HTML"})," don't have any listeners yet, which means they don't really do anything at the moment."]}),"\n",(0,t.jsx)(n.p,{children:"The following lines will use the add an event listener that will call functions to:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"#createchatroom",children:"Create a chat room"})," when the ",(0,t.jsx)(n.code,{children:"#create-chat-room"})," form is submitted:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:"reference",children:"https://github.com/lucas-tortora/pear-chat-app/blob/main/app.js#L34\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Allow user to ",(0,t.jsx)(n.a,{href:"#joinchatroom",children:"join a chat room"})," when the ",(0,t.jsx)(n.code,{children:"#join-form"})," is submitted:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:"reference",children:"https://github.com/lucas-tortora/pear-chat-app/blob/main/app.js#L35\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"#sendmessage",children:"Send a message"})," when the ",(0,t.jsx)(n.code,{children:"#message-form"})," is submitted:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:"reference",children:"https://github.com/lucas-tortora/pear-chat-app/blob/main/app.js#L36\n"})}),"\n",(0,t.jsx)(n.p,{children:"Attaches DOM event listeners to the UI buttons and forms: creatin"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"event-functions",children:"Event Functions"}),"\n",(0,t.jsxs)(n.p,{children:["So far, you've added event listeners. But, as you may have noticed, you haven't defined the functions that will be called by the events.\nYou should add each of these functions to your ",(0,t.jsx)(n.code,{children:"app.js"})," file"]}),"\n",(0,t.jsx)(n.h4,{id:"createchatroom",children:(0,t.jsx)(n.code,{children:"createChatRoom"})}),"\n",(0,t.jsxs)(n.p,{children:["Generates a random 32-byte topic using ",(0,t.jsx)(n.code,{children:"crypto.randomBytes"})," and calls ",(0,t.jsx)(n.a,{href:"#joinswarm",children:(0,t.jsx)(n.code,{children:"joinSwarm"})})," with the created topic buffer."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:"reference",children:"https://github.com/lucas-tortora/pear-chat-app/blob/main/app.js#L38-L42\n"})}),"\n",(0,t.jsx)(n.h4,{id:"joinchatroom",children:(0,t.jsx)(n.code,{children:"joinChatRoom"})}),"\n",(0,t.jsxs)(n.p,{children:["Prevents the form's default submit behavior, reads the hex topic string from the input field, converts it into a buffer with ",(0,t.jsx)(n.code,{children:"b4a.from"}),", and calls ",(0,t.jsx)(n.a,{href:"#joinswarm",children:(0,t.jsx)(n.code,{children:"joinSwarm"})}),"with that buffer."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:"reference",children:"https://github.com/lucas-tortora/pear-chat-app/blob/main/app.js#L44-L49\n"})}),"\n",(0,t.jsx)(n.h4,{id:"joinswarm",children:(0,t.jsx)(n.code,{children:"JoinSwarm"})}),"\n",(0,t.jsxs)(n.p,{children:["Hides the setup UI, shows a loading state, joins the swarm using ",(0,t.jsx)(n.code,{children:"swarm.join(topicBuffer, { client: true, server: true })"}),", waits for discovery to flush, then displays the chat UI and the topic hex string."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:"reference",children:"https://github.com/lucas-tortora/pear-chat-app/blob/main/app.js#L51-L63\n"})}),"\n",(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsxs)(n.p,{children:["In a ",(0,t.jsx)(n.a,{href:"/pear-docs/about-pear/what-is-pear#web2",children:"traditional client-server setup"}),", the server is hosted at an IP address (or hostname) and a port, e.g. ",(0,t.jsx)(n.code,{children:"http://localhost:3000"}),". This is what clients use to connect to the server."]}),(0,t.jsxs)(n.p,{children:["The code in ",(0,t.jsx)(n.code,{children:"app.js"})," contains the line ",(0,t.jsx)(n.code,{children:"swarm.join(topicBuffer, { client: true, server: true })"}),"."]}),(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"topicBuffer"})," is the invitation, meaning that anyone who knows this topic can join the room and message the other members."]}),(0,t.jsx)(n.p,{children:"There is no separate client or server, all members are equal. If the room creator goes offline, or even deletes the room from their machine, the other members can continue chatting."})]}),"\n",(0,t.jsx)(n.h4,{id:"sendmessage",children:(0,t.jsx)(n.code,{children:"sendMessage"})}),"\n",(0,t.jsxs)(n.p,{children:["Reads the message text from the input, clears the input, prevents form submission from reloading the page, appends the message locally (",(0,t.jsx)(n.code,{children:"onMessageAdded('You', message)"}),"), and writes the message to every currently connected peer."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:"reference",children:"https://github.com/lucas-tortora/pear-chat-app/blob/main/app.js#L65-L75\n"})}),"\n",(0,t.jsx)(n.h4,{id:"onmessageadded",children:(0,t.jsx)(n.code,{children:"onMessageAdded"})}),"\n",(0,t.jsxs)(n.p,{children:["Creates a new ",(0,t.jsx)(n.code,{children:"div"})," element, sets its text to ",(0,t.jsx)(n.code,{children:"<from> message"}),", and appends it to the ",(0,t.jsx)(n.code,{children:"#messages"})," list in the DOM."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:"reference",children:"https://github.com/lucas-tortora/pear-chat-app/blob/main/app.js#L78-L82\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["Note that the ",(0,t.jsx)(n.code,{children:"pear"})," dependency is used, even though it was not installed. This is the ",(0,t.jsx)(n.a,{href:"reference/pear/api.md",children:"Pear API"}),", available to any Pear project."]})}),"\n",(0,t.jsx)(n.h2,{id:"4-chat",children:"4. Chat"}),"\n",(0,t.jsxs)(n.p,{children:["After you have ",(0,t.jsx)(n.a,{href:"#3-code-your-app",children:"coded your app"}),", you can start chatting with yourself:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Open two terminal windows and navigate to the app's directory."}),"\n",(0,t.jsxs)(n.li,{children:["In each, run the ",(0,t.jsx)(n.code,{children:"pear run --dev ."})," command."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["In the first app, click on ",(0,t.jsx)(n.code,{children:"Create"}),". A random topic will appear at the top."]}),"\n",(0,t.jsx)(n.p,{children:"Note that topics consist of 64 hexadecimal characters (32 bytes)."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"The first app, with the topic",src:a(1626).A+"",width:"1400",height:"800"})}),"\n",(0,t.jsxs)(n.p,{children:["Paste the topic into the second app, then click on ",(0,t.jsx)(n.code,{children:"Join"}),"."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Second app, using topic from the first",src:a(1793).A+"",width:"1400",height:"800"})}),"\n",(0,t.jsx)(n.p,{children:"Once connected, messages can be sent between each chat application."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"View from the second app",src:a(1530).A+"",width:"1400",height:"800"})}),"\n",(0,t.jsxs)(n.p,{children:["Of course, a chat app that only runs on one computer isn't particularly useful. The next step in this guide will show you how to ",(0,t.jsx)(n.a,{href:"/pear-docs/getting-started/release",children:"release"})," and ",(0,t.jsx)(n.a,{href:"/pear-docs/getting-started/share",children:"share"})," your app."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>i,x:()=>o});var s=a(6540);const t={},r=s.createContext(t);function i(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);