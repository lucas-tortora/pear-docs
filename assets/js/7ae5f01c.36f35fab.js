"use strict";(globalThis.webpackChunkpear_docs_docusarus=globalThis.webpackChunkpear_docs_docusarus||[]).push([[187],{2439:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"references/tools/drives","title":"drives","description":"CLI to download, seed, and mirror a Hyperdrive or Localdrive.","source":"@site/docs/references/tools/drives.md","sourceDirName":"references/tools","slug":"/references/tools/drives","permalink":"/pear-docs/references/tools/drives","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/references/tools/drives.md","tags":[],"version":"current","frontMatter":{},"sidebar":"sidebar","previous":{"title":"Tools Overview","permalink":"/pear-docs/references/tools/overview"},"next":{"title":"Hyperbeam","permalink":"/pear-docs/references/tools/hyperbeam"}}');var d=s(4848),n=s(8453);const t={},l="drives",c={},o=[{value:"Installation",id:"installation",level:3},{value:"Basic usage",id:"basic-usage",level:3},{value:"API",id:"api",level:2},{value:"Storage",id:"storage",level:4},{value:"Initialize",id:"initialize",level:4},{value:"Create a writable Hyperdrive",id:"create-a-writable-hyperdrive",level:4},{value:"Mirror any drive into another",id:"mirror-any-drive-into-another",level:4},{value:"List files",id:"list-files",level:4},{value:"Share a drive",id:"share-a-drive",level:4},{value:"Archive download a Hyperdrive",id:"archive-download-a-hyperdrive",level:4},{value:"Serve a drive via HTTP",id:"serve-a-drive-via-http",level:4},{value:"Show storage size, version, etc",id:"show-storage-size-version-etc",level:4}];function a(e){const r={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.header,{children:(0,d.jsx)(r.h1,{id:"drives",children:"drives"})}),"\n",(0,d.jsx)(r.p,{children:"CLI to download, seed, and mirror a Hyperdrive or Localdrive."}),"\n",(0,d.jsxs)(r.blockquote,{children:["\n",(0,d.jsx)(r.p,{children:(0,d.jsx)(r.a,{href:"https://github.com/holepunchto/drives",children:"GitHub (drives)"})}),"\n"]}),"\n",(0,d.jsxs)(r.ul,{children:["\n",(0,d.jsx)(r.li,{children:(0,d.jsx)(r.a,{href:"/pear-docs/references/tools/drives#installation",children:"Installation"})}),"\n",(0,d.jsx)(r.li,{children:(0,d.jsx)(r.a,{href:"/pear-docs/references/tools/drives#basic-usage",children:"Basic usage"})}),"\n"]}),"\n",(0,d.jsx)(r.h3,{id:"installation",children:"Installation"}),"\n",(0,d.jsxs)(r.p,{children:["Install with ",(0,d.jsx)(r.a,{href:"https://www.npmjs.com/",children:"npm"}),":"]}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{className:"language-bash",children:"npm install -g drives\n"})}),"\n",(0,d.jsx)(r.h3,{id:"basic-usage",children:"Basic usage"}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{className:"language-bash",children:"drives [command] [options]\n"})}),"\n",(0,d.jsx)(r.p,{children:"Commands:"}),"\n",(0,d.jsxs)(r.table,{children:[(0,d.jsx)(r.thead,{children:(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.th,{children:"Command"}),(0,d.jsx)(r.th,{children:"Options"}),(0,d.jsx)(r.th,{children:"Description"})]})}),(0,d.jsxs)(r.tbody,{children:[(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"init"}),(0,d.jsx)(r.td,{}),(0,d.jsx)(r.td,{children:"Initializes a new storage on the cwd"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"touch"}),(0,d.jsx)(r.td,{children:"[options]"}),(0,d.jsx)(r.td,{children:"Create a writable Hyperdrive"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"mirror"}),(0,d.jsxs)(r.td,{children:["[options] ",(0,d.jsx)(r.code,{children:"<src>"})," ",(0,d.jsx)(r.code,{children:"<dst>"})]}),(0,d.jsx)(r.td,{children:"Mirror a drive into another drive"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"ls"}),(0,d.jsxs)(r.td,{children:["[options] ",(0,d.jsx)(r.code,{children:"<src>"})," [path]"]}),(0,d.jsx)(r.td,{children:"List files of the drive"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"seed"}),(0,d.jsx)(r.td,{children:"[options] [key]"}),(0,d.jsx)(r.td,{children:"Share a Hyperdrive"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"download"}),(0,d.jsxs)(r.td,{children:["[options] ",(0,d.jsx)(r.code,{children:"<key>"})]}),(0,d.jsx)(r.td,{children:"Archive download a Hyperdrive by key"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"serve"}),(0,d.jsxs)(r.td,{children:["[options] ",(0,d.jsx)(r.code,{children:"<src>"})]}),(0,d.jsx)(r.td,{children:"Creates a HTTP drive server"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"put"}),(0,d.jsxs)(r.td,{children:["[options] ",(0,d.jsx)(r.code,{children:"<src>"})," ",(0,d.jsx)(r.code,{children:"<path>"})," ",(0,d.jsx)(r.code,{children:"<blob>"})]}),(0,d.jsx)(r.td,{children:"Create a file"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"entry"}),(0,d.jsxs)(r.td,{children:["[options] ",(0,d.jsx)(r.code,{children:"<src>"})," ",(0,d.jsx)(r.code,{children:"<path>"})]}),(0,d.jsx)(r.td,{children:"Show a single entry file"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"get"}),(0,d.jsxs)(r.td,{children:["[options] ",(0,d.jsx)(r.code,{children:"<src>"})," ",(0,d.jsx)(r.code,{children:"<path>"})]}),(0,d.jsx)(r.td,{children:"Show the file content"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"rm"}),(0,d.jsxs)(r.td,{children:["[options] ",(0,d.jsx)(r.code,{children:"<src>"})," ",(0,d.jsx)(r.code,{children:"<path>"})]}),(0,d.jsx)(r.td,{children:"Delete a file"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"info"}),(0,d.jsxs)(r.td,{children:["[options] ",(0,d.jsx)(r.code,{children:"<key>"})]}),(0,d.jsx)(r.td,{children:"Show info about the Hyperdrive"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"purge"}),(0,d.jsxs)(r.td,{children:["[options] ",(0,d.jsx)(r.code,{children:"<key>"})]}),(0,d.jsx)(r.td,{children:"Delete all local storage of the drive"})]})]})]}),"\n",(0,d.jsx)(r.h2,{id:"api",children:"API"}),"\n",(0,d.jsxs)(r.p,{children:["Use ",(0,d.jsx)(r.code,{children:"drives --help"})," for more information, ",(0,d.jsx)(r.code,{children:"drives mirror --help"}),", etc."]}),"\n",(0,d.jsx)(r.h4,{id:"storage",children:"Storage"}),"\n",(0,d.jsxs)(r.p,{children:["By default, it tries to use ",(0,d.jsx)(r.code,{children:".drives"})," from the current directory."]}),"\n",(0,d.jsxs)(r.p,{children:["If it doesn't exists then it will go back ",(0,d.jsx)(r.code,{children:"../"})," until it finds an existing ",(0,d.jsx)(r.code,{children:".drives"}),"."]}),"\n",(0,d.jsxs)(r.p,{children:["If it doesn't find anything, then it will create and use a global folder at ",(0,d.jsx)(r.code,{children:"~/.drives"}),"."]}),"\n",(0,d.jsxs)(r.p,{children:["You can always set ",(0,d.jsx)(r.code,{children:"--storage [path]"})," to force a different location."]}),"\n",(0,d.jsx)(r.h4,{id:"initialize",children:"Initialize"}),"\n",(0,d.jsxs)(r.p,{children:["It creates the ",(0,d.jsx)(r.code,{children:".drives"})," storage folder in the current working directory."]}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{className:"language-bash",children:"drives init\n# Notice: new storage at /home/user/Desktop/my-project/.drives/corestore\n"})}),"\n",(0,d.jsx)(r.p,{children:"Useful to avoid doing a parent lookup, and not using the home folder."}),"\n",(0,d.jsx)(r.h4,{id:"create-a-writable-hyperdrive",children:"Create a writable Hyperdrive"}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{className:"language-bash",children:"drives touch\n# New drive: <z32 key>\n"})}),"\n",(0,d.jsx)(r.h4,{id:"mirror-any-drive-into-another",children:"Mirror any drive into another"}),"\n",(0,d.jsx)(r.p,{children:"Source and destination can be a folder path or a drive key."}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{className:"language-bash",children:"drives mirror `<src>` `<dst>`\n"})}),"\n",(0,d.jsxs)(r.p,{children:["Use ",(0,d.jsx)(r.code,{children:"--live"})," for real-time mirroring."]}),"\n",(0,d.jsxs)(r.p,{children:["Use ",(0,d.jsx)(r.code,{children:"--dry-run"})," to disable writing changes. There is ",(0,d.jsx)(r.code,{children:"--help"})," for more."]}),"\n",(0,d.jsxs)(r.p,{children:["Note: it ignores ",(0,d.jsx)(r.code,{children:".drives"}),", ",(0,d.jsx)(r.code,{children:".git"}),", ",(0,d.jsx)(r.code,{children:".github"}),", ",(0,d.jsx)(r.code,{children:".DS_Store"}),", and ",(0,d.jsx)(r.code,{children:"package-lock.json"})," entries."]}),"\n",(0,d.jsx)(r.h4,{id:"list-files",children:"List files"}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{className:"language-bash",children:"drives ls <key or path>\n"})}),"\n",(0,d.jsx)(r.h4,{id:"share-a-drive",children:"Share a drive"}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{className:"language-bash",children:"drives seed [my-drive-key]\n"})}),"\n",(0,d.jsx)(r.h4,{id:"archive-download-a-hyperdrive",children:"Archive download a Hyperdrive"}),"\n",(0,d.jsxs)(r.p,{children:["Continuous ",(0,d.jsx)(r.code,{children:"download"})," with all past historical states, useful to checkout on older versions:"]}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{className:"language-bash",children:"drives download <my-drive-key>\n"})}),"\n",(0,d.jsx)(r.h4,{id:"serve-a-drive-via-http",children:"Serve a drive via HTTP"}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{className:"language-bash",children:"drives serve <key or path>\n# HTTP server on http://localhost:5000\n"})}),"\n",(0,d.jsxs)(r.p,{children:["URL requests are like ",(0,d.jsx)(r.code,{children:"/path/to/file"}),", i.e. ",(0,d.jsx)(r.code,{children:"http://localhost:5000/index.js"}),"."]}),"\n",(0,d.jsxs)(r.p,{children:["For security, requests to ",(0,d.jsx)(r.code,{children:"/.drives/*"})," are rejected, so mind the storage location!"]}),"\n",(0,d.jsx)(r.h4,{id:"show-storage-size-version-etc",children:"Show storage size, version, etc"}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{className:"language-bash",children:"drives info <my-drive-key>\n"})})]})}function h(e={}){const{wrapper:r}={...(0,n.R)(),...e.components};return r?(0,d.jsx)(r,{...e,children:(0,d.jsx)(a,{...e})}):a(e)}},8453:(e,r,s)=>{s.d(r,{R:()=>t,x:()=>l});var i=s(6540);const d={},n=i.createContext(d);function t(e){const r=i.useContext(n);return i.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:t(e.components),i.createElement(n.Provider,{value:r},e.children)}}}]);